ARM GAS  /tmp/ccH8Bvzf.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"udp.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.udp_new_port,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-sp-d16
  25              	udp_new_port:
  26              	.LFB161:
  27              		.file 1 "Middlewares/Third_Party/LwIP/src/core/udp.c"
   1:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * User Datagram Protocol module\n
   4:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * The code for the User Datagram Protocol UDP & UDPLite (RFC 3828).\n
   5:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * See also @ref udp_raw
   6:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * 
   7:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @defgroup udp_raw UDP
   8:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @ingroup callbackstyle_api
   9:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * User Datagram Protocol module\n
  10:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @see @ref raw_api and @ref netconn
  11:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
  12:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
  13:Middlewares/Third_Party/LwIP/src/core/udp.c **** /*
  14:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  15:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * All rights reserved.
  16:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
  17:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Redistribution and use in source and binary forms, with or without modification,
  18:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * are permitted provided that the following conditions are met:
  19:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
  20:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  21:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *    this list of conditions and the following disclaimer.
  22:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  23:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *    this list of conditions and the following disclaimer in the documentation
  24:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *    and/or other materials provided with the distribution.
  25:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * 3. The name of the author may not be used to endorse or promote products
  26:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *    derived from this software without specific prior written permission.
  27:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
  28:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  29:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  30:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  31:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
ARM GAS  /tmp/ccH8Bvzf.s 			page 2


  32:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  33:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  34:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  35:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  36:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  37:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * OF SUCH DAMAGE.
  38:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * This file is part of the lwIP TCP/IP stack.
  40:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
  41:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Author: Adam Dunkels <adam@sics.se>
  42:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
  43:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
  44:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/udp.c **** /* @todo Check the use of '(struct udp_pcb).chksum_len_rx'!
  46:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
  47:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
  48:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/opt.h"
  49:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
  50:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_UDP /* don't build if not configured for use in lwipopts.h */
  51:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
  52:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/udp.h"
  53:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/def.h"
  54:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/memp.h"
  55:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/inet_chksum.h"
  56:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/ip_addr.h"
  57:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/ip6.h"
  58:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/ip6_addr.h"
  59:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/netif.h"
  60:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/icmp.h"
  61:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/icmp6.h"
  62:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/stats.h"
  63:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/snmp.h"
  64:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include "lwip/dhcp.h"
  65:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
  66:Middlewares/Third_Party/LwIP/src/core/udp.c **** #include <string.h>
  67:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
  68:Middlewares/Third_Party/LwIP/src/core/udp.c **** #ifndef UDP_LOCAL_PORT_RANGE_START
  69:Middlewares/Third_Party/LwIP/src/core/udp.c **** /* From http://www.iana.org/assignments/port-numbers:
  70:Middlewares/Third_Party/LwIP/src/core/udp.c ****    "The Dynamic and/or Private Ports are those from 49152 through 65535" */
  71:Middlewares/Third_Party/LwIP/src/core/udp.c **** #define UDP_LOCAL_PORT_RANGE_START  0xc000
  72:Middlewares/Third_Party/LwIP/src/core/udp.c **** #define UDP_LOCAL_PORT_RANGE_END    0xffff
  73:Middlewares/Third_Party/LwIP/src/core/udp.c **** #define UDP_ENSURE_LOCAL_PORT_RANGE(port) ((u16_t)(((port) & ~UDP_LOCAL_PORT_RANGE_START) + UDP_LOC
  74:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif
  75:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
  76:Middlewares/Third_Party/LwIP/src/core/udp.c **** /* last local UDP port */
  77:Middlewares/Third_Party/LwIP/src/core/udp.c **** static u16_t udp_port = UDP_LOCAL_PORT_RANGE_START;
  78:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
  79:Middlewares/Third_Party/LwIP/src/core/udp.c **** /* The list of UDP PCBs */
  80:Middlewares/Third_Party/LwIP/src/core/udp.c **** /* exported in udp.h (was static) */
  81:Middlewares/Third_Party/LwIP/src/core/udp.c **** struct udp_pcb *udp_pcbs;
  82:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
  83:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
  84:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Initialize this module.
  85:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
  86:Middlewares/Third_Party/LwIP/src/core/udp.c **** void
  87:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_init(void)
  88:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
ARM GAS  /tmp/ccH8Bvzf.s 			page 3


  89:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_RANDOMIZE_INITIAL_LOCAL_PORTS && defined(LWIP_RAND)
  90:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udp_port = UDP_ENSURE_LOCAL_PORT_RANGE(LWIP_RAND());
  91:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_RANDOMIZE_INITIAL_LOCAL_PORTS && defined(LWIP_RAND) */
  92:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
  93:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
  94:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
  95:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Allocate a new local UDP port.
  96:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
  97:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @return a new (free) local UDP port number
  98:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
  99:Middlewares/Third_Party/LwIP/src/core/udp.c **** static u16_t
 100:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_new_port(void)
 101:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
  28              		.loc 1 101 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 102:Middlewares/Third_Party/LwIP/src/core/udp.c ****   u16_t n = 0;
  33              		.loc 1 102 3 view .LVU1
  34              	.LVL0:
  35              		.loc 1 102 9 is_stmt 0 view .LVU2
  36 0000 0020     		movs	r0, #0
  37              	.LVL1:
  38              	.L2:
 103:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_pcb *pcb;
  39              		.loc 1 103 3 is_stmt 1 view .LVU3
 104:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 105:Middlewares/Third_Party/LwIP/src/core/udp.c **** again:
 106:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (udp_port++ == UDP_LOCAL_PORT_RANGE_END) {
  40              		.loc 1 106 3 view .LVU4
  41              		.loc 1 106 15 is_stmt 0 view .LVU5
  42 0002 104A     		ldr	r2, .L12
  43 0004 1388     		ldrh	r3, [r2]
  44 0006 591C     		adds	r1, r3, #1
  45 0008 1180     		strh	r1, [r2]	@ movhi
  46              		.loc 1 106 6 view .LVU6
  47 000a 4FF6FF72 		movw	r2, #65535
  48 000e 9342     		cmp	r3, r2
  49 0010 09D0     		beq	.L9
  50              	.L3:
 107:Middlewares/Third_Party/LwIP/src/core/udp.c ****     udp_port = UDP_LOCAL_PORT_RANGE_START;
 108:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 109:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Check all PCBs. */
 110:Middlewares/Third_Party/LwIP/src/core/udp.c ****   for (pcb = udp_pcbs; pcb != NULL; pcb = pcb->next) {
  51              		.loc 1 110 3 is_stmt 1 view .LVU7
  52              		.loc 1 110 12 is_stmt 0 view .LVU8
  53 0012 0D4B     		ldr	r3, .L12+4
  54 0014 1B68     		ldr	r3, [r3]
  55              	.LVL2:
  56              	.L4:
  57              		.loc 1 110 3 discriminator 1 view .LVU9
  58 0016 93B1     		cbz	r3, .L10
 111:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (pcb->local_port == udp_port) {
  59              		.loc 1 111 5 is_stmt 1 view .LVU10
  60              		.loc 1 111 12 is_stmt 0 view .LVU11
  61 0018 598A     		ldrh	r1, [r3, #18]
ARM GAS  /tmp/ccH8Bvzf.s 			page 4


  62              		.loc 1 111 25 view .LVU12
  63 001a 0A4A     		ldr	r2, .L12
  64 001c 1288     		ldrh	r2, [r2]
  65              		.loc 1 111 8 view .LVU13
  66 001e 9142     		cmp	r1, r2
  67 0020 06D0     		beq	.L11
 110:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (pcb->local_port == udp_port) {
  68              		.loc 1 110 41 discriminator 2 view .LVU14
  69 0022 DB68     		ldr	r3, [r3, #12]
  70              	.LVL3:
 110:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (pcb->local_port == udp_port) {
  71              		.loc 1 110 41 discriminator 2 view .LVU15
  72 0024 F7E7     		b	.L4
  73              	.LVL4:
  74              	.L9:
 107:Middlewares/Third_Party/LwIP/src/core/udp.c ****     udp_port = UDP_LOCAL_PORT_RANGE_START;
  75              		.loc 1 107 5 is_stmt 1 view .LVU16
 107:Middlewares/Third_Party/LwIP/src/core/udp.c ****     udp_port = UDP_LOCAL_PORT_RANGE_START;
  76              		.loc 1 107 14 is_stmt 0 view .LVU17
  77 0026 074B     		ldr	r3, .L12
  78 0028 4FF44042 		mov	r2, #49152
  79 002c 1A80     		strh	r2, [r3]	@ movhi
  80 002e F0E7     		b	.L3
  81              	.LVL5:
  82              	.L11:
 112:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (++n > (UDP_LOCAL_PORT_RANGE_END - UDP_LOCAL_PORT_RANGE_START)) {
  83              		.loc 1 112 7 is_stmt 1 view .LVU18
  84              		.loc 1 112 10 is_stmt 0 view .LVU19
  85 0030 0130     		adds	r0, r0, #1
  86              	.LVL6:
  87              		.loc 1 112 10 view .LVU20
  88 0032 80B2     		uxth	r0, r0
  89              	.LVL7:
  90              		.loc 1 112 10 view .LVU21
  91 0034 B0F5804F 		cmp	r0, #16384
  92 0038 E3D3     		bcc	.L2
 113:Middlewares/Third_Party/LwIP/src/core/udp.c ****         return 0;
  93              		.loc 1 113 16 view .LVU22
  94 003a 0020     		movs	r0, #0
  95              	.LVL8:
 114:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 115:Middlewares/Third_Party/LwIP/src/core/udp.c ****       goto again;
 116:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 117:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 118:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return udp_port;
 119:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
  96              		.loc 1 119 1 view .LVU23
  97 003c 7047     		bx	lr
  98              	.LVL9:
  99              	.L10:
 118:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 100              		.loc 1 118 3 is_stmt 1 view .LVU24
 118:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 101              		.loc 1 118 10 is_stmt 0 view .LVU25
 102 003e 014B     		ldr	r3, .L12
 103              	.LVL10:
 118:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
ARM GAS  /tmp/ccH8Bvzf.s 			page 5


 104              		.loc 1 118 10 view .LVU26
 105 0040 1888     		ldrh	r0, [r3]
 106              	.LVL11:
 118:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 107              		.loc 1 118 10 view .LVU27
 108 0042 7047     		bx	lr
 109              	.L13:
 110              		.align	2
 111              	.L12:
 112 0044 00000000 		.word	.LANCHOR0
 113 0048 00000000 		.word	udp_pcbs
 114              		.cfi_endproc
 115              	.LFE161:
 117              		.section	.text.udp_input_local_match,"ax",%progbits
 118              		.align	1
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 122              		.fpu fpv5-sp-d16
 124              	udp_input_local_match:
 125              	.LVL12:
 126              	.LFB162:
 120:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 121:Middlewares/Third_Party/LwIP/src/core/udp.c **** /** Common code to see if the current input packet matches the pcb
 122:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * (current input packet is accessed via ip(4/6)_current_* macros)
 123:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 124:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param pcb pcb to check
 125:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param inp network interface on which the datagram was received (only used for IPv4)
 126:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param broadcast 1 if his is an IPv4 broadcast (global or subnet-only), 0 otherwise (only used f
 127:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @return 1 on match, 0 otherwise
 128:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
 129:Middlewares/Third_Party/LwIP/src/core/udp.c **** static u8_t
 130:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_input_local_match(struct udp_pcb *pcb, struct netif *inp, u8_t broadcast)
 131:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 127              		.loc 1 131 1 is_stmt 1 view -0
 128              		.cfi_startproc
 129              		@ args = 0, pretend = 0, frame = 0
 130              		@ frame_needed = 0, uses_anonymous_args = 0
 131              		@ link register save eliminated.
 132:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_UNUSED_ARG(inp);       /* in IPv6 only case */
 132              		.loc 1 132 3 view .LVU29
 133:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_UNUSED_ARG(broadcast); /* in IPv6 only case */
 133              		.loc 1 133 3 view .LVU30
 134:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 135:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Dual-stack: PCBs listening to any IP type also listen to any IP address */
 136:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (IP_IS_ANY_TYPE_VAL(pcb->local_ip)) {
 134              		.loc 1 136 3 view .LVU31
 137:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV4 && IP_SOF_BROADCAST_RECV
 138:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if ((broadcast != 0) && !ip_get_option(pcb, SOF_BROADCAST)) {
 139:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return 0;
 140:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 141:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV4 && IP_SOF_BROADCAST_RECV */
 142:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return 1;
 143:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 144:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 145:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Only need to check PCB if incoming IP version matches PCB IP version */
 146:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (IP_ADDR_PCB_VERSION_MATCH_EXACT(pcb, ip_current_dest_addr())) {
ARM GAS  /tmp/ccH8Bvzf.s 			page 6


 135              		.loc 1 146 3 view .LVU32
 147:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV4
 148:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* Special case: IPv4 broadcast: all or broadcasts in my subnet
 149:Middlewares/Third_Party/LwIP/src/core/udp.c ****      * Note: broadcast variable can only be 1 if it is an IPv4 broadcast */
 150:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (broadcast != 0) {
 136              		.loc 1 150 5 view .LVU33
 137              		.loc 1 150 8 is_stmt 0 view .LVU34
 138 0000 1346     		mov	r3, r2
 139 0002 6AB1     		cbz	r2, .L15
 151:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if IP_SOF_BROADCAST_RECV
 152:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (ip_get_option(pcb, SOF_BROADCAST))
 153:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* IP_SOF_BROADCAST_RECV */
 154:Middlewares/Third_Party/LwIP/src/core/udp.c ****       {
 155:Middlewares/Third_Party/LwIP/src/core/udp.c ****         if (ip4_addr_isany(ip_2_ip4(&pcb->local_ip)) ||
 140              		.loc 1 155 9 is_stmt 1 view .LVU35
 141              		.loc 1 155 12 is_stmt 0 view .LVU36
 142 0004 A8B1     		cbz	r0, .L17
 143              		.loc 1 155 13 discriminator 1 view .LVU37
 144 0006 0368     		ldr	r3, [r0]
 145 0008 ABB1     		cbz	r3, .L18
 156:Middlewares/Third_Party/LwIP/src/core/udp.c ****           ((ip4_current_dest_addr()->addr == IPADDR_BROADCAST)) ||
 146              		.loc 1 156 36 discriminator 2 view .LVU38
 147 000a 114A     		ldr	r2, .L24
 148              	.LVL13:
 149              		.loc 1 156 36 discriminator 2 view .LVU39
 150 000c 5269     		ldr	r2, [r2, #20]
 155:Middlewares/Third_Party/LwIP/src/core/udp.c ****           ((ip4_current_dest_addr()->addr == IPADDR_BROADCAST)) ||
 151              		.loc 1 155 54 discriminator 2 view .LVU40
 152 000e B2F1FF3F 		cmp	r2, #-1
 153 0012 12D0     		beq	.L19
 157:Middlewares/Third_Party/LwIP/src/core/udp.c ****            ip4_addr_netcmp(ip_2_ip4(&pcb->local_ip), ip4_current_dest_addr(), netif_ip4_netmask(inp
 154              		.loc 1 157 12 view .LVU41
 155 0014 8968     		ldr	r1, [r1, #8]
 156              	.LVL14:
 157              		.loc 1 157 12 view .LVU42
 158 0016 5340     		eors	r3, r3, r2
 156:Middlewares/Third_Party/LwIP/src/core/udp.c ****           ((ip4_current_dest_addr()->addr == IPADDR_BROADCAST)) ||
 159              		.loc 1 156 65 view .LVU43
 160 0018 0B42     		tst	r3, r1
 161 001a 10D0     		beq	.L20
 158:Middlewares/Third_Party/LwIP/src/core/udp.c ****           return 1;
 159:Middlewares/Third_Party/LwIP/src/core/udp.c ****         }
 160:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 161:Middlewares/Third_Party/LwIP/src/core/udp.c ****     } else
 162:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV4 */
 163:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* Handle IPv4 and IPv6: all or exact match */
 164:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (ip_addr_isany(&pcb->local_ip) || ip_addr_cmp(&pcb->local_ip, ip_current_dest_addr())) {
 165:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return 1;
 166:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 167:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 168:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 169:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return 0;
 162              		.loc 1 169 10 view .LVU44
 163 001c 0020     		movs	r0, #0
 164              	.LVL15:
 165              		.loc 1 169 10 view .LVU45
 166 001e 7047     		bx	lr
ARM GAS  /tmp/ccH8Bvzf.s 			page 7


 167              	.LVL16:
 168              	.L15:
 164:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return 1;
 169              		.loc 1 164 5 is_stmt 1 view .LVU46
 164:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return 1;
 170              		.loc 1 164 8 is_stmt 0 view .LVU47
 171 0020 78B1     		cbz	r0, .L21
 164:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return 1;
 172              		.loc 1 164 9 discriminator 1 view .LVU48
 173 0022 0268     		ldr	r2, [r0]
 174              	.LVL17:
 164:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return 1;
 175              		.loc 1 164 9 discriminator 1 view .LVU49
 176 0024 7AB1     		cbz	r2, .L22
 164:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return 1;
 177              		.loc 1 164 42 discriminator 2 view .LVU50
 178 0026 0A49     		ldr	r1, .L24
 179              	.LVL18:
 164:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return 1;
 180              		.loc 1 164 42 discriminator 2 view .LVU51
 181 0028 4969     		ldr	r1, [r1, #20]
 164:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return 1;
 182              		.loc 1 164 39 discriminator 2 view .LVU52
 183 002a 8A42     		cmp	r2, r1
 184 002c 0DD0     		beq	.L23
 185              		.loc 1 169 10 view .LVU53
 186 002e 1846     		mov	r0, r3
 187              	.LVL19:
 188              		.loc 1 169 10 view .LVU54
 189 0030 7047     		bx	lr
 190              	.LVL20:
 191              	.L17:
 158:Middlewares/Third_Party/LwIP/src/core/udp.c ****           return 1;
 192              		.loc 1 158 18 view .LVU55
 193 0032 0120     		movs	r0, #1
 194              	.LVL21:
 158:Middlewares/Third_Party/LwIP/src/core/udp.c ****           return 1;
 195              		.loc 1 158 18 view .LVU56
 196 0034 7047     		bx	lr
 197              	.LVL22:
 198              	.L18:
 158:Middlewares/Third_Party/LwIP/src/core/udp.c ****           return 1;
 199              		.loc 1 158 18 view .LVU57
 200 0036 0120     		movs	r0, #1
 201              	.LVL23:
 158:Middlewares/Third_Party/LwIP/src/core/udp.c ****           return 1;
 202              		.loc 1 158 18 view .LVU58
 203 0038 7047     		bx	lr
 204              	.LVL24:
 205              	.L19:
 158:Middlewares/Third_Party/LwIP/src/core/udp.c ****           return 1;
 206              		.loc 1 158 18 view .LVU59
 207 003a 0120     		movs	r0, #1
 208              	.LVL25:
 158:Middlewares/Third_Party/LwIP/src/core/udp.c ****           return 1;
 209              		.loc 1 158 18 view .LVU60
 210 003c 7047     		bx	lr
ARM GAS  /tmp/ccH8Bvzf.s 			page 8


 211              	.LVL26:
 212              	.L20:
 158:Middlewares/Third_Party/LwIP/src/core/udp.c ****           return 1;
 213              		.loc 1 158 18 view .LVU61
 214 003e 0120     		movs	r0, #1
 215              	.LVL27:
 158:Middlewares/Third_Party/LwIP/src/core/udp.c ****           return 1;
 216              		.loc 1 158 18 view .LVU62
 217 0040 7047     		bx	lr
 218              	.LVL28:
 219              	.L21:
 165:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 220              		.loc 1 165 14 view .LVU63
 221 0042 0120     		movs	r0, #1
 222              	.LVL29:
 165:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 223              		.loc 1 165 14 view .LVU64
 224 0044 7047     		bx	lr
 225              	.LVL30:
 226              	.L22:
 165:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 227              		.loc 1 165 14 view .LVU65
 228 0046 0120     		movs	r0, #1
 229              	.LVL31:
 165:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 230              		.loc 1 165 14 view .LVU66
 231 0048 7047     		bx	lr
 232              	.LVL32:
 233              	.L23:
 165:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 234              		.loc 1 165 14 view .LVU67
 235 004a 0120     		movs	r0, #1
 236              	.LVL33:
 170:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 237              		.loc 1 170 1 view .LVU68
 238 004c 7047     		bx	lr
 239              	.L25:
 240 004e 00BF     		.align	2
 241              	.L24:
 242 0050 00000000 		.word	ip_data
 243              		.cfi_endproc
 244              	.LFE162:
 246              		.section	.text.udp_init,"ax",%progbits
 247              		.align	1
 248              		.global	udp_init
 249              		.syntax unified
 250              		.thumb
 251              		.thumb_func
 252              		.fpu fpv5-sp-d16
 254              	udp_init:
 255              	.LFB160:
  88:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_RANDOMIZE_INITIAL_LOCAL_PORTS && defined(LWIP_RAND)
 256              		.loc 1 88 1 is_stmt 1 view -0
 257              		.cfi_startproc
 258              		@ args = 0, pretend = 0, frame = 0
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              		@ link register save eliminated.
ARM GAS  /tmp/ccH8Bvzf.s 			page 9


  92:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 261              		.loc 1 92 1 view .LVU70
 262 0000 7047     		bx	lr
 263              		.cfi_endproc
 264              	.LFE160:
 266              		.section	.text.udp_input,"ax",%progbits
 267              		.align	1
 268              		.global	udp_input
 269              		.syntax unified
 270              		.thumb
 271              		.thumb_func
 272              		.fpu fpv5-sp-d16
 274              	udp_input:
 275              	.LVL34:
 276              	.LFB163:
 171:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 172:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
 173:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Process an incoming UDP datagram.
 174:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 175:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Given an incoming UDP datagram (as a chain of pbufs) this function
 176:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * finds a corresponding UDP PCB and hands over the pbuf to the pcbs
 177:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * recv function. If no pcb is found or the datagram is incorrect, the
 178:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * pbuf is freed.
 179:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 180:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param p pbuf to be demultiplexed to a UDP PCB (p->payload pointing to the UDP header)
 181:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param inp network interface on which the datagram was received.
 182:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 183:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
 184:Middlewares/Third_Party/LwIP/src/core/udp.c **** void
 185:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_input(struct pbuf *p, struct netif *inp)
 186:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 277              		.loc 1 186 1 view -0
 278              		.cfi_startproc
 279              		@ args = 0, pretend = 0, frame = 8
 280              		@ frame_needed = 0, uses_anonymous_args = 0
 281              		.loc 1 186 1 is_stmt 0 view .LVU72
 282 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 283              	.LCFI0:
 284              		.cfi_def_cfa_offset 36
 285              		.cfi_offset 4, -36
 286              		.cfi_offset 5, -32
 287              		.cfi_offset 6, -28
 288              		.cfi_offset 7, -24
 289              		.cfi_offset 8, -20
 290              		.cfi_offset 9, -16
 291              		.cfi_offset 10, -12
 292              		.cfi_offset 11, -8
 293              		.cfi_offset 14, -4
 294 0004 85B0     		sub	sp, sp, #20
 295              	.LCFI1:
 296              		.cfi_def_cfa_offset 56
 297 0006 8146     		mov	r9, r0
 187:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_hdr *udphdr;
 298              		.loc 1 187 3 is_stmt 1 view .LVU73
 188:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_pcb *pcb, *prev;
 299              		.loc 1 188 3 view .LVU74
 189:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_pcb *uncon_pcb;
ARM GAS  /tmp/ccH8Bvzf.s 			page 10


 300              		.loc 1 189 3 view .LVU75
 190:Middlewares/Third_Party/LwIP/src/core/udp.c ****   u16_t src, dest;
 301              		.loc 1 190 3 view .LVU76
 191:Middlewares/Third_Party/LwIP/src/core/udp.c ****   u8_t broadcast;
 302              		.loc 1 191 3 view .LVU77
 192:Middlewares/Third_Party/LwIP/src/core/udp.c ****   u8_t for_us = 0;
 303              		.loc 1 192 3 view .LVU78
 304              	.LVL35:
 193:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 194:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_UNUSED_ARG(inp);
 305              		.loc 1 194 3 view .LVU79
 195:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 196:Middlewares/Third_Party/LwIP/src/core/udp.c ****   PERF_START;
 306              		.loc 1 196 13 view .LVU80
 197:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 198:Middlewares/Third_Party/LwIP/src/core/udp.c ****   UDP_STATS_INC(udp.recv);
 307              		.loc 1 198 26 view .LVU81
 199:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 200:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Check minimum length (UDP header) */
 201:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (p->len < UDP_HLEN) {
 308              		.loc 1 201 3 view .LVU82
 309              		.loc 1 201 8 is_stmt 0 view .LVU83
 310 0008 4389     		ldrh	r3, [r0, #10]
 311              		.loc 1 201 6 view .LVU84
 312 000a 072B     		cmp	r3, #7
 313 000c 17D9     		bls	.L46
 314 000e 0F46     		mov	r7, r1
 202:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* drop short packets */
 203:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG,
 204:Middlewares/Third_Party/LwIP/src/core/udp.c ****                 ("udp_input: short UDP datagram (%"U16_F" bytes) discarded\n", p->tot_len));
 205:Middlewares/Third_Party/LwIP/src/core/udp.c ****     UDP_STATS_INC(udp.lenerr);
 206:Middlewares/Third_Party/LwIP/src/core/udp.c ****     UDP_STATS_INC(udp.drop);
 207:Middlewares/Third_Party/LwIP/src/core/udp.c ****     MIB2_STATS_INC(mib2.udpinerrors);
 208:Middlewares/Third_Party/LwIP/src/core/udp.c ****     pbuf_free(p);
 209:Middlewares/Third_Party/LwIP/src/core/udp.c ****     goto end;
 210:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 211:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 212:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udphdr = (struct udp_hdr *)p->payload;
 315              		.loc 1 212 3 is_stmt 1 view .LVU85
 316              		.loc 1 212 10 is_stmt 0 view .LVU86
 317 0010 4468     		ldr	r4, [r0, #4]
 318              	.LVL36:
 213:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 214:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* is broadcast packet ? */
 215:Middlewares/Third_Party/LwIP/src/core/udp.c ****   broadcast = ip_addr_isbroadcast(ip_current_dest_addr(), ip_current_netif());
 319              		.loc 1 215 3 is_stmt 1 view .LVU87
 320              		.loc 1 215 15 is_stmt 0 view .LVU88
 321 0012 434B     		ldr	r3, .L52
 322 0014 1968     		ldr	r1, [r3]
 323              	.LVL37:
 324              		.loc 1 215 15 view .LVU89
 325 0016 5869     		ldr	r0, [r3, #20]
 326              	.LVL38:
 327              		.loc 1 215 15 view .LVU90
 328 0018 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 329              	.LVL39:
 330 001c 8046     		mov	r8, r0
ARM GAS  /tmp/ccH8Bvzf.s 			page 11


 331              	.LVL40:
 216:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 217:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG, ("udp_input: received datagram of length %"U16_F"\n", p->tot_len));
 332              		.loc 1 217 92 is_stmt 1 view .LVU91
 218:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 219:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* convert src and dest ports to host byte order */
 220:Middlewares/Third_Party/LwIP/src/core/udp.c ****   src = lwip_ntohs(udphdr->src);
 333              		.loc 1 220 3 view .LVU92
 334              		.loc 1 220 9 is_stmt 0 view .LVU93
 335 001e 2088     		ldrh	r0, [r4]	@ unaligned
 336 0020 FFF7FEFF 		bl	lwip_htons
 337              	.LVL41:
 338 0024 8246     		mov	r10, r0
 339              	.LVL42:
 221:Middlewares/Third_Party/LwIP/src/core/udp.c ****   dest = lwip_ntohs(udphdr->dest);
 340              		.loc 1 221 3 is_stmt 1 view .LVU94
 341              		.loc 1 221 10 is_stmt 0 view .LVU95
 342 0026 6088     		ldrh	r0, [r4, #2]	@ unaligned
 343 0028 FFF7FEFF 		bl	lwip_htons
 344              	.LVL43:
 345 002c 0646     		mov	r6, r0
 346              	.LVL44:
 222:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 223:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udp_debug_print(udphdr);
 347              		.loc 1 223 26 is_stmt 1 view .LVU96
 224:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 225:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* print the UDP source and destination */
 226:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG, ("udp ("));
 348              		.loc 1 226 36 view .LVU97
 227:Middlewares/Third_Party/LwIP/src/core/udp.c ****   ip_addr_debug_print(UDP_DEBUG, ip_current_dest_addr());
 349              		.loc 1 227 57 view .LVU98
 228:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG, (", %"U16_F") <-- (", lwip_ntohs(udphdr->dest)));
 350              		.loc 1 228 74 view .LVU99
 229:Middlewares/Third_Party/LwIP/src/core/udp.c ****   ip_addr_debug_print(UDP_DEBUG, ip_current_src_addr());
 351              		.loc 1 229 56 view .LVU100
 230:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG, (", %"U16_F")\n", lwip_ntohs(udphdr->src)));
 352              		.loc 1 230 69 view .LVU101
 231:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 232:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb = NULL;
 353              		.loc 1 232 3 view .LVU102
 233:Middlewares/Third_Party/LwIP/src/core/udp.c ****   prev = NULL;
 354              		.loc 1 233 3 view .LVU103
 234:Middlewares/Third_Party/LwIP/src/core/udp.c ****   uncon_pcb = NULL;
 355              		.loc 1 234 3 view .LVU104
 235:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Iterate through the UDP pcb list for a matching pcb.
 236:Middlewares/Third_Party/LwIP/src/core/udp.c ****    * 'Perfect match' pcbs (connected to the remote port & ip address) are
 237:Middlewares/Third_Party/LwIP/src/core/udp.c ****    * preferred. If no perfect match is found, the first unconnected pcb that
 238:Middlewares/Third_Party/LwIP/src/core/udp.c ****    * matches the local port and ip address gets the datagram. */
 239:Middlewares/Third_Party/LwIP/src/core/udp.c ****   for (pcb = udp_pcbs; pcb != NULL; pcb = pcb->next) {
 356              		.loc 1 239 3 view .LVU105
 357              		.loc 1 239 12 is_stmt 0 view .LVU106
 358 002e 3D4B     		ldr	r3, .L52+4
 359 0030 1B68     		ldr	r3, [r3]
 360 0032 0393     		str	r3, [sp, #12]
 361              	.LVL45:
 362              		.loc 1 239 12 view .LVU107
 363 0034 1C46     		mov	r4, r3
ARM GAS  /tmp/ccH8Bvzf.s 			page 12


 364              	.LVL46:
 234:Middlewares/Third_Party/LwIP/src/core/udp.c ****   uncon_pcb = NULL;
 365              		.loc 1 234 13 view .LVU108
 366 0036 4FF0000B 		mov	fp, #0
 233:Middlewares/Third_Party/LwIP/src/core/udp.c ****   uncon_pcb = NULL;
 367              		.loc 1 233 8 view .LVU109
 368 003a 5D46     		mov	r5, fp
 369              		.loc 1 239 3 view .LVU110
 370 003c 09E0     		b	.L30
 371              	.LVL47:
 372              	.L46:
 204:Middlewares/Third_Party/LwIP/src/core/udp.c ****     UDP_STATS_INC(udp.lenerr);
 373              		.loc 1 204 92 is_stmt 1 view .LVU111
 205:Middlewares/Third_Party/LwIP/src/core/udp.c ****     UDP_STATS_INC(udp.drop);
 374              		.loc 1 205 30 view .LVU112
 206:Middlewares/Third_Party/LwIP/src/core/udp.c ****     MIB2_STATS_INC(mib2.udpinerrors);
 375              		.loc 1 206 28 view .LVU113
 207:Middlewares/Third_Party/LwIP/src/core/udp.c ****     pbuf_free(p);
 376              		.loc 1 207 37 view .LVU114
 208:Middlewares/Third_Party/LwIP/src/core/udp.c ****     goto end;
 377              		.loc 1 208 5 view .LVU115
 378 003e FFF7FEFF 		bl	pbuf_free
 379              	.LVL48:
 209:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 380              		.loc 1 209 5 view .LVU116
 381              	.L29:
 382              	.L27:
 240:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* print the PCB local and remote address */
 241:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG, ("pcb ("));
 242:Middlewares/Third_Party/LwIP/src/core/udp.c ****     ip_addr_debug_print(UDP_DEBUG, &pcb->local_ip);
 243:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG, (", %"U16_F") <-- (", pcb->local_port));
 244:Middlewares/Third_Party/LwIP/src/core/udp.c ****     ip_addr_debug_print(UDP_DEBUG, &pcb->remote_ip);
 245:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG, (", %"U16_F")\n", pcb->remote_port));
 246:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 247:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* compare PCB local addr+port to UDP destination addr+port */
 248:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if ((pcb->local_port == dest) &&
 249:Middlewares/Third_Party/LwIP/src/core/udp.c ****         (udp_input_local_match(pcb, inp, broadcast) != 0)) {
 250:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (((pcb->flags & UDP_FLAGS_CONNECTED) == 0) &&
 251:Middlewares/Third_Party/LwIP/src/core/udp.c ****           ((uncon_pcb == NULL)
 252:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if SO_REUSE
 253:Middlewares/Third_Party/LwIP/src/core/udp.c ****           /* prefer specific IPs over cath-all */
 254:Middlewares/Third_Party/LwIP/src/core/udp.c ****           || !ip_addr_isany(&pcb->local_ip)
 255:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* SO_REUSE */
 256:Middlewares/Third_Party/LwIP/src/core/udp.c ****           )) {
 257:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* the first unconnected matching PCB */
 258:Middlewares/Third_Party/LwIP/src/core/udp.c ****         uncon_pcb = pcb;
 259:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 260:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 261:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* compare PCB remote addr+port to UDP source addr+port */
 262:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if ((pcb->remote_port == src) &&
 263:Middlewares/Third_Party/LwIP/src/core/udp.c ****           (ip_addr_isany_val(pcb->remote_ip) ||
 264:Middlewares/Third_Party/LwIP/src/core/udp.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()))) {
 265:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* the first fully matching PCB */
 266:Middlewares/Third_Party/LwIP/src/core/udp.c ****         if (prev != NULL) {
 267:Middlewares/Third_Party/LwIP/src/core/udp.c ****           /* move the pcb to the front of udp_pcbs so that is
 268:Middlewares/Third_Party/LwIP/src/core/udp.c ****              found faster next time */
 269:Middlewares/Third_Party/LwIP/src/core/udp.c ****           prev->next = pcb->next;
ARM GAS  /tmp/ccH8Bvzf.s 			page 13


 270:Middlewares/Third_Party/LwIP/src/core/udp.c ****           pcb->next = udp_pcbs;
 271:Middlewares/Third_Party/LwIP/src/core/udp.c ****           udp_pcbs = pcb;
 272:Middlewares/Third_Party/LwIP/src/core/udp.c ****         } else {
 273:Middlewares/Third_Party/LwIP/src/core/udp.c ****           UDP_STATS_INC(udp.cachehit);
 274:Middlewares/Third_Party/LwIP/src/core/udp.c ****         }
 275:Middlewares/Third_Party/LwIP/src/core/udp.c ****         break;
 276:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 277:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 278:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 279:Middlewares/Third_Party/LwIP/src/core/udp.c ****     prev = pcb;
 280:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 281:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* no fully matching pcb found? then look for an unconnected pcb */
 282:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (pcb == NULL) {
 283:Middlewares/Third_Party/LwIP/src/core/udp.c ****     pcb = uncon_pcb;
 284:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 285:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 286:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Check checksum if this is a match or if it was directed at us. */
 287:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (pcb != NULL) {
 288:Middlewares/Third_Party/LwIP/src/core/udp.c ****     for_us = 1;
 289:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else {
 290:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV6
 291:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (ip_current_is_v6()) {
 292:Middlewares/Third_Party/LwIP/src/core/udp.c ****       for_us = netif_get_ip6_addr_match(inp, ip6_current_dest_addr()) >= 0;
 293:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 294:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV6 */
 295:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV4
 296:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (!ip_current_is_v6()) {
 297:Middlewares/Third_Party/LwIP/src/core/udp.c ****       for_us = ip4_addr_cmp(netif_ip4_addr(inp), ip4_current_dest_addr());
 298:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 299:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV4 */
 300:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 301:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 302:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (for_us) {
 303:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE, ("udp_input: calculating checksum\n"));
 304:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if CHECKSUM_CHECK_UDP
 305:Middlewares/Third_Party/LwIP/src/core/udp.c ****     IF__NETIF_CHECKSUM_ENABLED(inp, CHECKSUM_CHECK_UDP) {
 306:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_UDPLITE
 307:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (ip_current_header_proto() == IP_PROTO_UDPLITE) {
 308:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* Do the UDP Lite checksum */
 309:Middlewares/Third_Party/LwIP/src/core/udp.c ****         u16_t chklen = lwip_ntohs(udphdr->len);
 310:Middlewares/Third_Party/LwIP/src/core/udp.c ****         if (chklen < sizeof(struct udp_hdr)) {
 311:Middlewares/Third_Party/LwIP/src/core/udp.c ****           if (chklen == 0) {
 312:Middlewares/Third_Party/LwIP/src/core/udp.c ****             /* For UDP-Lite, checksum length of 0 means checksum
 313:Middlewares/Third_Party/LwIP/src/core/udp.c ****                over the complete packet (See RFC 3828 chap. 3.1) */
 314:Middlewares/Third_Party/LwIP/src/core/udp.c ****             chklen = p->tot_len;
 315:Middlewares/Third_Party/LwIP/src/core/udp.c ****           } else {
 316:Middlewares/Third_Party/LwIP/src/core/udp.c ****             /* At least the UDP-Lite header must be covered by the
 317:Middlewares/Third_Party/LwIP/src/core/udp.c ****                checksum! (Again, see RFC 3828 chap. 3.1) */
 318:Middlewares/Third_Party/LwIP/src/core/udp.c ****             goto chkerr;
 319:Middlewares/Third_Party/LwIP/src/core/udp.c ****           }
 320:Middlewares/Third_Party/LwIP/src/core/udp.c ****         }
 321:Middlewares/Third_Party/LwIP/src/core/udp.c ****         if (ip_chksum_pseudo_partial(p, IP_PROTO_UDPLITE,
 322:Middlewares/Third_Party/LwIP/src/core/udp.c ****                      p->tot_len, chklen,
 323:Middlewares/Third_Party/LwIP/src/core/udp.c ****                      ip_current_src_addr(), ip_current_dest_addr()) != 0) {
 324:Middlewares/Third_Party/LwIP/src/core/udp.c ****           goto chkerr;
 325:Middlewares/Third_Party/LwIP/src/core/udp.c ****         }
 326:Middlewares/Third_Party/LwIP/src/core/udp.c ****       } else
ARM GAS  /tmp/ccH8Bvzf.s 			page 14


 327:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_UDPLITE */
 328:Middlewares/Third_Party/LwIP/src/core/udp.c ****       {
 329:Middlewares/Third_Party/LwIP/src/core/udp.c ****         if (udphdr->chksum != 0) {
 330:Middlewares/Third_Party/LwIP/src/core/udp.c ****           if (ip_chksum_pseudo(p, IP_PROTO_UDP, p->tot_len,
 331:Middlewares/Third_Party/LwIP/src/core/udp.c ****                                ip_current_src_addr(),
 332:Middlewares/Third_Party/LwIP/src/core/udp.c ****                                ip_current_dest_addr()) != 0) {
 333:Middlewares/Third_Party/LwIP/src/core/udp.c ****             goto chkerr;
 334:Middlewares/Third_Party/LwIP/src/core/udp.c ****           }
 335:Middlewares/Third_Party/LwIP/src/core/udp.c ****         }
 336:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 337:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 338:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* CHECKSUM_CHECK_UDP */
 339:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (pbuf_header(p, -UDP_HLEN)) {
 340:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* Can we cope with this failing? Just assert for now */
 341:Middlewares/Third_Party/LwIP/src/core/udp.c ****       LWIP_ASSERT("pbuf_header failed\n", 0);
 342:Middlewares/Third_Party/LwIP/src/core/udp.c ****       UDP_STATS_INC(udp.drop);
 343:Middlewares/Third_Party/LwIP/src/core/udp.c ****       MIB2_STATS_INC(mib2.udpinerrors);
 344:Middlewares/Third_Party/LwIP/src/core/udp.c ****       pbuf_free(p);
 345:Middlewares/Third_Party/LwIP/src/core/udp.c ****       goto end;
 346:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 347:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 348:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (pcb != NULL) {
 349:Middlewares/Third_Party/LwIP/src/core/udp.c ****       MIB2_STATS_INC(mib2.udpindatagrams);
 350:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if SO_REUSE && SO_REUSE_RXTOALL
 351:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (ip_get_option(pcb, SOF_REUSEADDR) &&
 352:Middlewares/Third_Party/LwIP/src/core/udp.c ****           (broadcast || ip_addr_ismulticast(ip_current_dest_addr()))) {
 353:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* pass broadcast- or multicast packets to all multicast pcbs
 354:Middlewares/Third_Party/LwIP/src/core/udp.c ****            if SOF_REUSEADDR is set on the first match */
 355:Middlewares/Third_Party/LwIP/src/core/udp.c ****         struct udp_pcb *mpcb;
 356:Middlewares/Third_Party/LwIP/src/core/udp.c ****         u8_t p_header_changed = 0;
 357:Middlewares/Third_Party/LwIP/src/core/udp.c ****         s16_t hdrs_len = (s16_t)(ip_current_header_tot_len() + UDP_HLEN);
 358:Middlewares/Third_Party/LwIP/src/core/udp.c ****         for (mpcb = udp_pcbs; mpcb != NULL; mpcb = mpcb->next) {
 359:Middlewares/Third_Party/LwIP/src/core/udp.c ****           if (mpcb != pcb) {
 360:Middlewares/Third_Party/LwIP/src/core/udp.c ****             /* compare PCB local addr+port to UDP destination addr+port */
 361:Middlewares/Third_Party/LwIP/src/core/udp.c ****             if ((mpcb->local_port == dest) &&
 362:Middlewares/Third_Party/LwIP/src/core/udp.c ****                 (udp_input_local_match(mpcb, inp, broadcast) != 0)) {
 363:Middlewares/Third_Party/LwIP/src/core/udp.c ****               /* pass a copy of the packet to all local matches */
 364:Middlewares/Third_Party/LwIP/src/core/udp.c ****               if (mpcb->recv != NULL) {
 365:Middlewares/Third_Party/LwIP/src/core/udp.c ****                 struct pbuf *q;
 366:Middlewares/Third_Party/LwIP/src/core/udp.c ****                 /* for that, move payload to IP header again */
 367:Middlewares/Third_Party/LwIP/src/core/udp.c ****                 if (p_header_changed == 0) {
 368:Middlewares/Third_Party/LwIP/src/core/udp.c ****                   pbuf_header_force(p, hdrs_len);
 369:Middlewares/Third_Party/LwIP/src/core/udp.c ****                   p_header_changed = 1;
 370:Middlewares/Third_Party/LwIP/src/core/udp.c ****                 }
 371:Middlewares/Third_Party/LwIP/src/core/udp.c ****                 q = pbuf_alloc(PBUF_RAW, p->tot_len, PBUF_RAM);
 372:Middlewares/Third_Party/LwIP/src/core/udp.c ****                 if (q != NULL) {
 373:Middlewares/Third_Party/LwIP/src/core/udp.c ****                   err_t err = pbuf_copy(q, p);
 374:Middlewares/Third_Party/LwIP/src/core/udp.c ****                   if (err == ERR_OK) {
 375:Middlewares/Third_Party/LwIP/src/core/udp.c ****                     /* move payload to UDP data */
 376:Middlewares/Third_Party/LwIP/src/core/udp.c ****                     pbuf_header(q, -hdrs_len);
 377:Middlewares/Third_Party/LwIP/src/core/udp.c ****                     mpcb->recv(mpcb->recv_arg, mpcb, q, ip_current_src_addr(), src);
 378:Middlewares/Third_Party/LwIP/src/core/udp.c ****                   }
 379:Middlewares/Third_Party/LwIP/src/core/udp.c ****                 }
 380:Middlewares/Third_Party/LwIP/src/core/udp.c ****               }
 381:Middlewares/Third_Party/LwIP/src/core/udp.c ****             }
 382:Middlewares/Third_Party/LwIP/src/core/udp.c ****           }
 383:Middlewares/Third_Party/LwIP/src/core/udp.c ****         }
ARM GAS  /tmp/ccH8Bvzf.s 			page 15


 384:Middlewares/Third_Party/LwIP/src/core/udp.c ****         if (p_header_changed) {
 385:Middlewares/Third_Party/LwIP/src/core/udp.c ****           /* and move payload to UDP data again */
 386:Middlewares/Third_Party/LwIP/src/core/udp.c ****           pbuf_header(p, -hdrs_len);
 387:Middlewares/Third_Party/LwIP/src/core/udp.c ****         }
 388:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 389:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* SO_REUSE && SO_REUSE_RXTOALL */
 390:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* callback */
 391:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (pcb->recv != NULL) {
 392:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* now the recv function is responsible for freeing p */
 393:Middlewares/Third_Party/LwIP/src/core/udp.c ****         pcb->recv(pcb->recv_arg, pcb, p, ip_current_src_addr(), src);
 394:Middlewares/Third_Party/LwIP/src/core/udp.c ****       } else {
 395:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* no recv function registered? then we have to free the pbuf! */
 396:Middlewares/Third_Party/LwIP/src/core/udp.c ****         pbuf_free(p);
 397:Middlewares/Third_Party/LwIP/src/core/udp.c ****         goto end;
 398:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 399:Middlewares/Third_Party/LwIP/src/core/udp.c ****     } else {
 400:Middlewares/Third_Party/LwIP/src/core/udp.c ****       LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE, ("udp_input: not for us.\n"));
 401:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 402:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_ICMP || LWIP_ICMP6
 403:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* No match was found, send ICMP destination port unreachable unless
 404:Middlewares/Third_Party/LwIP/src/core/udp.c ****          destination address was broadcast/multicast. */
 405:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (!broadcast && !ip_addr_ismulticast(ip_current_dest_addr())) {
 406:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* move payload pointer back to ip header */
 407:Middlewares/Third_Party/LwIP/src/core/udp.c ****         pbuf_header_force(p, (s16_t)(ip_current_header_tot_len() + UDP_HLEN));
 408:Middlewares/Third_Party/LwIP/src/core/udp.c ****         icmp_port_unreach(ip_current_is_v6(), p);
 409:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 410:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_ICMP || LWIP_ICMP6 */
 411:Middlewares/Third_Party/LwIP/src/core/udp.c ****       UDP_STATS_INC(udp.proterr);
 412:Middlewares/Third_Party/LwIP/src/core/udp.c ****       UDP_STATS_INC(udp.drop);
 413:Middlewares/Third_Party/LwIP/src/core/udp.c ****       MIB2_STATS_INC(mib2.udpnoports);
 414:Middlewares/Third_Party/LwIP/src/core/udp.c ****       pbuf_free(p);
 415:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 416:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else {
 417:Middlewares/Third_Party/LwIP/src/core/udp.c ****     pbuf_free(p);
 418:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 419:Middlewares/Third_Party/LwIP/src/core/udp.c **** end:
 420:Middlewares/Third_Party/LwIP/src/core/udp.c ****   PERF_STOP("udp_input");
 421:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return;
 422:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if CHECKSUM_CHECK_UDP
 423:Middlewares/Third_Party/LwIP/src/core/udp.c **** chkerr:
 424:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 425:Middlewares/Third_Party/LwIP/src/core/udp.c ****               ("udp_input: UDP (or UDP Lite) datagram discarded due to failing checksum\n"));
 426:Middlewares/Third_Party/LwIP/src/core/udp.c ****   UDP_STATS_INC(udp.chkerr);
 427:Middlewares/Third_Party/LwIP/src/core/udp.c ****   UDP_STATS_INC(udp.drop);
 428:Middlewares/Third_Party/LwIP/src/core/udp.c ****   MIB2_STATS_INC(mib2.udpinerrors);
 429:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pbuf_free(p);
 430:Middlewares/Third_Party/LwIP/src/core/udp.c ****   PERF_STOP("udp_input");
 431:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* CHECKSUM_CHECK_UDP */
 432:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 383              		.loc 1 432 1 is_stmt 0 view .LVU117
 384 0042 05B0     		add	sp, sp, #20
 385              	.LCFI2:
 386              		.cfi_remember_state
 387              		.cfi_def_cfa_offset 36
 388              		@ sp needed
 389 0044 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 390              	.LVL49:
ARM GAS  /tmp/ccH8Bvzf.s 			page 16


 391              	.L32:
 392              	.LCFI3:
 393              		.cfi_restore_state
 262:Middlewares/Third_Party/LwIP/src/core/udp.c ****           (ip_addr_isany_val(pcb->remote_ip) ||
 394              		.loc 1 262 7 is_stmt 1 view .LVU118
 262:Middlewares/Third_Party/LwIP/src/core/udp.c ****           (ip_addr_isany_val(pcb->remote_ip) ||
 395              		.loc 1 262 15 is_stmt 0 view .LVU119
 396 0048 A38A     		ldrh	r3, [r4, #20]
 262:Middlewares/Third_Party/LwIP/src/core/udp.c ****           (ip_addr_isany_val(pcb->remote_ip) ||
 397              		.loc 1 262 10 view .LVU120
 398 004a 5345     		cmp	r3, r10
 399 004c 15D0     		beq	.L47
 400              	.L31:
 279:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 401              		.loc 1 279 5 is_stmt 1 discriminator 2 view .LVU121
 402              	.LVL50:
 279:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 403              		.loc 1 279 10 is_stmt 0 discriminator 2 view .LVU122
 404 004e 2546     		mov	r5, r4
 239:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* print the PCB local and remote address */
 405              		.loc 1 239 41 discriminator 2 view .LVU123
 406 0050 E468     		ldr	r4, [r4, #12]
 407              	.LVL51:
 408              	.L30:
 239:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* print the PCB local and remote address */
 409              		.loc 1 239 3 discriminator 1 view .LVU124
 410 0052 FCB1     		cbz	r4, .L34
 241:Middlewares/Third_Party/LwIP/src/core/udp.c ****     ip_addr_debug_print(UDP_DEBUG, &pcb->local_ip);
 411              		.loc 1 241 38 is_stmt 1 view .LVU125
 242:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG, (", %"U16_F") <-- (", pcb->local_port));
 412              		.loc 1 242 51 view .LVU126
 243:Middlewares/Third_Party/LwIP/src/core/udp.c ****     ip_addr_debug_print(UDP_DEBUG, &pcb->remote_ip);
 413              		.loc 1 243 67 view .LVU127
 244:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG, (", %"U16_F")\n", pcb->remote_port));
 414              		.loc 1 244 52 view .LVU128
 245:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 415              		.loc 1 245 64 view .LVU129
 248:Middlewares/Third_Party/LwIP/src/core/udp.c ****         (udp_input_local_match(pcb, inp, broadcast) != 0)) {
 416              		.loc 1 248 5 view .LVU130
 248:Middlewares/Third_Party/LwIP/src/core/udp.c ****         (udp_input_local_match(pcb, inp, broadcast) != 0)) {
 417              		.loc 1 248 13 is_stmt 0 view .LVU131
 418 0054 638A     		ldrh	r3, [r4, #18]
 248:Middlewares/Third_Party/LwIP/src/core/udp.c ****         (udp_input_local_match(pcb, inp, broadcast) != 0)) {
 419              		.loc 1 248 8 view .LVU132
 420 0056 B342     		cmp	r3, r6
 421 0058 F9D1     		bne	.L31
 249:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (((pcb->flags & UDP_FLAGS_CONNECTED) == 0) &&
 422              		.loc 1 249 10 discriminator 1 view .LVU133
 423 005a 4246     		mov	r2, r8
 424 005c 3946     		mov	r1, r7
 425 005e 2046     		mov	r0, r4
 426 0060 FFF7FEFF 		bl	udp_input_local_match
 427              	.LVL52:
 248:Middlewares/Third_Party/LwIP/src/core/udp.c ****         (udp_input_local_match(pcb, inp, broadcast) != 0)) {
 428              		.loc 1 248 35 discriminator 1 view .LVU134
 429 0064 0028     		cmp	r0, #0
 430 0066 F2D0     		beq	.L31
ARM GAS  /tmp/ccH8Bvzf.s 			page 17


 250:Middlewares/Third_Party/LwIP/src/core/udp.c ****           ((uncon_pcb == NULL)
 431              		.loc 1 250 7 is_stmt 1 view .LVU135
 250:Middlewares/Third_Party/LwIP/src/core/udp.c ****           ((uncon_pcb == NULL)
 432              		.loc 1 250 16 is_stmt 0 view .LVU136
 433 0068 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 250:Middlewares/Third_Party/LwIP/src/core/udp.c ****           ((uncon_pcb == NULL)
 434              		.loc 1 250 10 view .LVU137
 435 006a 13F0040F 		tst	r3, #4
 436 006e EBD1     		bne	.L32
 250:Middlewares/Third_Party/LwIP/src/core/udp.c ****           ((uncon_pcb == NULL)
 437              		.loc 1 250 53 discriminator 1 view .LVU138
 438 0070 BBF1000F 		cmp	fp, #0
 439 0074 E8D1     		bne	.L32
 258:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 440              		.loc 1 258 19 view .LVU139
 441 0076 A346     		mov	fp, r4
 442              	.LVL53:
 258:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 443              		.loc 1 258 19 view .LVU140
 444 0078 E6E7     		b	.L32
 445              	.LVL54:
 446              	.L47:
 263:Middlewares/Third_Party/LwIP/src/core/udp.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()))) {
 447              		.loc 1 263 12 discriminator 1 view .LVU141
 448 007a 6368     		ldr	r3, [r4, #4]
 262:Middlewares/Third_Party/LwIP/src/core/udp.c ****           (ip_addr_isany_val(pcb->remote_ip) ||
 449              		.loc 1 262 37 discriminator 1 view .LVU142
 450 007c 1BB1     		cbz	r3, .L33
 264:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* the first fully matching PCB */
 451              		.loc 1 264 11 view .LVU143
 452 007e 284A     		ldr	r2, .L52
 453 0080 1269     		ldr	r2, [r2, #16]
 263:Middlewares/Third_Party/LwIP/src/core/udp.c ****           ip_addr_cmp(&pcb->remote_ip, ip_current_src_addr()))) {
 454              		.loc 1 263 46 view .LVU144
 455 0082 9342     		cmp	r3, r2
 456 0084 E3D1     		bne	.L31
 457              	.L33:
 266:Middlewares/Third_Party/LwIP/src/core/udp.c ****           /* move the pcb to the front of udp_pcbs so that is
 458              		.loc 1 266 9 is_stmt 1 view .LVU145
 266:Middlewares/Third_Party/LwIP/src/core/udp.c ****           /* move the pcb to the front of udp_pcbs so that is
 459              		.loc 1 266 12 is_stmt 0 view .LVU146
 460 0086 2DB1     		cbz	r5, .L34
 269:Middlewares/Third_Party/LwIP/src/core/udp.c ****           pcb->next = udp_pcbs;
 461              		.loc 1 269 11 is_stmt 1 view .LVU147
 269:Middlewares/Third_Party/LwIP/src/core/udp.c ****           pcb->next = udp_pcbs;
 462              		.loc 1 269 27 is_stmt 0 view .LVU148
 463 0088 E368     		ldr	r3, [r4, #12]
 269:Middlewares/Third_Party/LwIP/src/core/udp.c ****           pcb->next = udp_pcbs;
 464              		.loc 1 269 22 view .LVU149
 465 008a EB60     		str	r3, [r5, #12]
 270:Middlewares/Third_Party/LwIP/src/core/udp.c ****           udp_pcbs = pcb;
 466              		.loc 1 270 11 is_stmt 1 view .LVU150
 270:Middlewares/Third_Party/LwIP/src/core/udp.c ****           udp_pcbs = pcb;
 467              		.loc 1 270 21 is_stmt 0 view .LVU151
 468 008c 039B     		ldr	r3, [sp, #12]
 469 008e E360     		str	r3, [r4, #12]
 271:Middlewares/Third_Party/LwIP/src/core/udp.c ****         } else {
ARM GAS  /tmp/ccH8Bvzf.s 			page 18


 470              		.loc 1 271 11 is_stmt 1 view .LVU152
 271:Middlewares/Third_Party/LwIP/src/core/udp.c ****         } else {
 471              		.loc 1 271 20 is_stmt 0 view .LVU153
 472 0090 244B     		ldr	r3, .L52+4
 473 0092 1C60     		str	r4, [r3]
 474              	.L34:
 282:Middlewares/Third_Party/LwIP/src/core/udp.c ****     pcb = uncon_pcb;
 475              		.loc 1 282 3 is_stmt 1 view .LVU154
 282:Middlewares/Third_Party/LwIP/src/core/udp.c ****     pcb = uncon_pcb;
 476              		.loc 1 282 6 is_stmt 0 view .LVU155
 477 0094 8CB1     		cbz	r4, .L48
 478              	.LVL55:
 479              	.L36:
 287:Middlewares/Third_Party/LwIP/src/core/udp.c ****     for_us = 1;
 480              		.loc 1 287 3 is_stmt 1 view .LVU156
 287:Middlewares/Third_Party/LwIP/src/core/udp.c ****     for_us = 1;
 481              		.loc 1 287 6 is_stmt 0 view .LVU157
 482 0096 94B1     		cbz	r4, .L49
 483              	.LVL56:
 484              	.L37:
 303:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if CHECKSUM_CHECK_UDP
 485              		.loc 1 303 83 is_stmt 1 view .LVU158
 339:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* Can we cope with this failing? Just assert for now */
 486              		.loc 1 339 5 view .LVU159
 339:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* Can we cope with this failing? Just assert for now */
 487              		.loc 1 339 9 is_stmt 0 view .LVU160
 488 0098 6FF00701 		mvn	r1, #7
 489 009c 4846     		mov	r0, r9
 490 009e FFF7FEFF 		bl	pbuf_header
 491              	.LVL57:
 339:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* Can we cope with this failing? Just assert for now */
 492              		.loc 1 339 8 view .LVU161
 493 00a2 A8B9     		cbnz	r0, .L50
 348:Middlewares/Third_Party/LwIP/src/core/udp.c ****       MIB2_STATS_INC(mib2.udpindatagrams);
 494              		.loc 1 348 5 is_stmt 1 view .LVU162
 348:Middlewares/Third_Party/LwIP/src/core/udp.c ****       MIB2_STATS_INC(mib2.udpindatagrams);
 495              		.loc 1 348 8 is_stmt 0 view .LVU163
 496 00a4 1CB3     		cbz	r4, .L40
 349:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if SO_REUSE && SO_REUSE_RXTOALL
 497              		.loc 1 349 42 is_stmt 1 view .LVU164
 391:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* now the recv function is responsible for freeing p */
 498              		.loc 1 391 7 view .LVU165
 391:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* now the recv function is responsible for freeing p */
 499              		.loc 1 391 14 is_stmt 0 view .LVU166
 500 00a6 A569     		ldr	r5, [r4, #24]
 501              	.LVL58:
 391:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* now the recv function is responsible for freeing p */
 502              		.loc 1 391 10 view .LVU167
 503 00a8 EDB1     		cbz	r5, .L41
 393:Middlewares/Third_Party/LwIP/src/core/udp.c ****       } else {
 504              		.loc 1 393 9 is_stmt 1 view .LVU168
 505 00aa E069     		ldr	r0, [r4, #28]
 506 00ac CDF800A0 		str	r10, [sp]
 507 00b0 1D4B     		ldr	r3, .L52+8
 508 00b2 4A46     		mov	r2, r9
 509 00b4 2146     		mov	r1, r4
 510 00b6 A847     		blx	r5
ARM GAS  /tmp/ccH8Bvzf.s 			page 19


 511              	.LVL59:
 512 00b8 C3E7     		b	.L27
 513              	.LVL60:
 514              	.L48:
 283:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 515              		.loc 1 283 9 is_stmt 0 view .LVU169
 516 00ba 5C46     		mov	r4, fp
 517              	.LVL61:
 283:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 518              		.loc 1 283 9 view .LVU170
 519 00bc EBE7     		b	.L36
 520              	.LVL62:
 521              	.L49:
 296:Middlewares/Third_Party/LwIP/src/core/udp.c ****       for_us = ip4_addr_cmp(netif_ip4_addr(inp), ip4_current_dest_addr());
 522              		.loc 1 296 5 is_stmt 1 view .LVU171
 297:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 523              		.loc 1 297 7 view .LVU172
 297:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 524              		.loc 1 297 16 is_stmt 0 view .LVU173
 525 00be 7A68     		ldr	r2, [r7, #4]
 526 00c0 174B     		ldr	r3, .L52
 527 00c2 5B69     		ldr	r3, [r3, #20]
 528              	.LVL63:
 302:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE, ("udp_input: calculating checksum\n"));
 529              		.loc 1 302 3 is_stmt 1 view .LVU174
 302:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE, ("udp_input: calculating checksum\n"));
 530              		.loc 1 302 6 is_stmt 0 view .LVU175
 531 00c4 9A42     		cmp	r2, r3
 532 00c6 E7D0     		beq	.L37
 417:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 533              		.loc 1 417 5 is_stmt 1 view .LVU176
 534 00c8 4846     		mov	r0, r9
 535 00ca FFF7FEFF 		bl	pbuf_free
 536              	.LVL64:
 420:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return;
 537              		.loc 1 420 25 view .LVU177
 421:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if CHECKSUM_CHECK_UDP
 538              		.loc 1 421 3 view .LVU178
 539 00ce B8E7     		b	.L27
 540              	.L50:
 341:Middlewares/Third_Party/LwIP/src/core/udp.c ****       UDP_STATS_INC(udp.drop);
 541              		.loc 1 341 7 discriminator 1 view .LVU179
 341:Middlewares/Third_Party/LwIP/src/core/udp.c ****       UDP_STATS_INC(udp.drop);
 542              		.loc 1 341 7 discriminator 1 view .LVU180
 341:Middlewares/Third_Party/LwIP/src/core/udp.c ****       UDP_STATS_INC(udp.drop);
 543              		.loc 1 341 7 discriminator 1 view .LVU181
 341:Middlewares/Third_Party/LwIP/src/core/udp.c ****       UDP_STATS_INC(udp.drop);
 544              		.loc 1 341 7 discriminator 1 view .LVU182
 545 00d0 164B     		ldr	r3, .L52+12
 546 00d2 40F25512 		movw	r2, #341
 547 00d6 1649     		ldr	r1, .L52+16
 548 00d8 1648     		ldr	r0, .L52+20
 549 00da FFF7FEFF 		bl	printf
 550              	.LVL65:
 342:Middlewares/Third_Party/LwIP/src/core/udp.c ****       MIB2_STATS_INC(mib2.udpinerrors);
 551              		.loc 1 342 30 discriminator 1 view .LVU183
 343:Middlewares/Third_Party/LwIP/src/core/udp.c ****       pbuf_free(p);
ARM GAS  /tmp/ccH8Bvzf.s 			page 20


 552              		.loc 1 343 39 discriminator 1 view .LVU184
 344:Middlewares/Third_Party/LwIP/src/core/udp.c ****       goto end;
 553              		.loc 1 344 7 discriminator 1 view .LVU185
 554 00de 4846     		mov	r0, r9
 555 00e0 FFF7FEFF 		bl	pbuf_free
 556              	.LVL66:
 345:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 557              		.loc 1 345 7 discriminator 1 view .LVU186
 558 00e4 ADE7     		b	.L27
 559              	.LVL67:
 560              	.L41:
 396:Middlewares/Third_Party/LwIP/src/core/udp.c ****         goto end;
 561              		.loc 1 396 9 view .LVU187
 562 00e6 4846     		mov	r0, r9
 563 00e8 FFF7FEFF 		bl	pbuf_free
 564              	.LVL68:
 397:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 565              		.loc 1 397 9 view .LVU188
 566 00ec A9E7     		b	.L27
 567              	.LVL69:
 568              	.L40:
 400:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 569              		.loc 1 400 76 view .LVU189
 405:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* move payload pointer back to ip header */
 570              		.loc 1 405 7 view .LVU190
 405:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* move payload pointer back to ip header */
 571              		.loc 1 405 10 is_stmt 0 view .LVU191
 572 00ee B8F1000F 		cmp	r8, #0
 573 00f2 05D1     		bne	.L42
 405:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* move payload pointer back to ip header */
 574              		.loc 1 405 26 discriminator 1 view .LVU192
 575 00f4 0A4B     		ldr	r3, .L52
 576 00f6 5B69     		ldr	r3, [r3, #20]
 577 00f8 03F0F003 		and	r3, r3, #240
 405:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* move payload pointer back to ip header */
 578              		.loc 1 405 22 discriminator 1 view .LVU193
 579 00fc E02B     		cmp	r3, #224
 580 00fe 03D1     		bne	.L51
 581              	.L42:
 411:Middlewares/Third_Party/LwIP/src/core/udp.c ****       UDP_STATS_INC(udp.drop);
 582              		.loc 1 411 33 is_stmt 1 view .LVU194
 412:Middlewares/Third_Party/LwIP/src/core/udp.c ****       MIB2_STATS_INC(mib2.udpnoports);
 583              		.loc 1 412 30 view .LVU195
 413:Middlewares/Third_Party/LwIP/src/core/udp.c ****       pbuf_free(p);
 584              		.loc 1 413 38 view .LVU196
 414:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 585              		.loc 1 414 7 view .LVU197
 586 0100 4846     		mov	r0, r9
 587 0102 FFF7FEFF 		bl	pbuf_free
 588              	.LVL70:
 589 0106 9CE7     		b	.L27
 590              	.L51:
 407:Middlewares/Third_Party/LwIP/src/core/udp.c ****         icmp_port_unreach(ip_current_is_v6(), p);
 591              		.loc 1 407 9 view .LVU198
 407:Middlewares/Third_Party/LwIP/src/core/udp.c ****         icmp_port_unreach(ip_current_is_v6(), p);
 592              		.loc 1 407 38 is_stmt 0 view .LVU199
 593 0108 054B     		ldr	r3, .L52
ARM GAS  /tmp/ccH8Bvzf.s 			page 21


 594 010a 9989     		ldrh	r1, [r3, #12]
 407:Middlewares/Third_Party/LwIP/src/core/udp.c ****         icmp_port_unreach(ip_current_is_v6(), p);
 595              		.loc 1 407 66 view .LVU200
 596 010c 0831     		adds	r1, r1, #8
 407:Middlewares/Third_Party/LwIP/src/core/udp.c ****         icmp_port_unreach(ip_current_is_v6(), p);
 597              		.loc 1 407 9 view .LVU201
 598 010e 09B2     		sxth	r1, r1
 599 0110 4846     		mov	r0, r9
 600 0112 FFF7FEFF 		bl	pbuf_header_force
 601              	.LVL71:
 408:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 602              		.loc 1 408 9 is_stmt 1 view .LVU202
 603 0116 0321     		movs	r1, #3
 604 0118 4846     		mov	r0, r9
 605 011a FFF7FEFF 		bl	icmp_dest_unreach
 606              	.LVL72:
 607 011e EFE7     		b	.L42
 608              	.L53:
 609              		.align	2
 610              	.L52:
 611 0120 00000000 		.word	ip_data
 612 0124 00000000 		.word	udp_pcbs
 613 0128 10000000 		.word	ip_data+16
 614 012c 00000000 		.word	.LC0
 615 0130 2C000000 		.word	.LC1
 616 0134 40000000 		.word	.LC2
 617              		.cfi_endproc
 618              	.LFE163:
 620              		.section	.text.udp_bind,"ax",%progbits
 621              		.align	1
 622              		.global	udp_bind
 623              		.syntax unified
 624              		.thumb
 625              		.thumb_func
 626              		.fpu fpv5-sp-d16
 628              	udp_bind:
 629              	.LVL73:
 630              	.LFB168:
 433:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 434:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
 435:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @ingroup udp_raw
 436:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Send data using UDP.
 437:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 438:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param pcb UDP PCB used to send the data.
 439:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param p chain of pbuf's to be sent.
 440:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 441:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * The datagram will be sent to the current remote_ip & remote_port
 442:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * stored in pcb. If the pcb is not bound to a port, it will
 443:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * automatically be bound to a random port.
 444:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 445:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @return lwIP error code.
 446:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * - ERR_OK. Successful. No error occurred.
 447:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * - ERR_MEM. Out of memory.
 448:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * - ERR_RTE. Could not find route to destination address.
 449:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * - ERR_VAL. No PCB or PCB is dual-stack
 450:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * - More errors could be returned by lower protocol layers.
 451:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
ARM GAS  /tmp/ccH8Bvzf.s 			page 22


 452:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @see udp_disconnect() udp_sendto()
 453:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
 454:Middlewares/Third_Party/LwIP/src/core/udp.c **** err_t
 455:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_send(struct udp_pcb *pcb, struct pbuf *p)
 456:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 457:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if ((pcb == NULL) || IP_IS_ANY_TYPE_VAL(pcb->remote_ip)) {
 458:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 459:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 460:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 461:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* send to the packet using remote ip and port stored in the pcb */
 462:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return udp_sendto(pcb, p, &pcb->remote_ip, pcb->remote_port);
 463:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 464:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 465:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 466:Middlewares/Third_Party/LwIP/src/core/udp.c **** /** @ingroup udp_raw
 467:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Same as udp_send() but with checksum
 468:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
 469:Middlewares/Third_Party/LwIP/src/core/udp.c **** err_t
 470:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_send_chksum(struct udp_pcb *pcb, struct pbuf *p,
 471:Middlewares/Third_Party/LwIP/src/core/udp.c ****                 u8_t have_chksum, u16_t chksum)
 472:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 473:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if ((pcb == NULL) || IP_IS_ANY_TYPE_VAL(pcb->remote_ip)) {
 474:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 475:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 476:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 477:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* send to the packet using remote ip and port stored in the pcb */
 478:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return udp_sendto_chksum(pcb, p, &pcb->remote_ip, pcb->remote_port,
 479:Middlewares/Third_Party/LwIP/src/core/udp.c ****     have_chksum, chksum);
 480:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 481:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 482:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 483:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
 484:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @ingroup udp_raw
 485:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Send data to a specified address using UDP.
 486:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 487:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param pcb UDP PCB used to send the data.
 488:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param p chain of pbuf's to be sent.
 489:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param dst_ip Destination IP address.
 490:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param dst_port Destination UDP port.
 491:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 492:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * dst_ip & dst_port are expected to be in the same byte order as in the pcb.
 493:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 494:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * If the PCB already has a remote address association, it will
 495:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * be restored after the data is sent.
 496:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 497:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @return lwIP error code (@see udp_send for possible error codes)
 498:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 499:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @see udp_disconnect() udp_send()
 500:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
 501:Middlewares/Third_Party/LwIP/src/core/udp.c **** err_t
 502:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_sendto(struct udp_pcb *pcb, struct pbuf *p,
 503:Middlewares/Third_Party/LwIP/src/core/udp.c ****   const ip_addr_t *dst_ip, u16_t dst_port)
 504:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 505:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 506:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return udp_sendto_chksum(pcb, p, dst_ip, dst_port, 0, 0);
 507:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 508:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
ARM GAS  /tmp/ccH8Bvzf.s 			page 23


 509:Middlewares/Third_Party/LwIP/src/core/udp.c **** /** @ingroup udp_raw
 510:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Same as udp_sendto(), but with checksum */
 511:Middlewares/Third_Party/LwIP/src/core/udp.c **** err_t
 512:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_sendto_chksum(struct udp_pcb *pcb, struct pbuf *p, const ip_addr_t *dst_ip,
 513:Middlewares/Third_Party/LwIP/src/core/udp.c ****                   u16_t dst_port, u8_t have_chksum, u16_t chksum)
 514:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 515:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 516:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct netif *netif;
 517:Middlewares/Third_Party/LwIP/src/core/udp.c ****   const ip_addr_t *dst_ip_route = dst_ip;
 518:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 519:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if ((pcb == NULL) || (dst_ip == NULL) || !IP_ADDR_PCB_VERSION_MATCH(pcb, dst_ip)) {
 520:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 521:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 522:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 523:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE, ("udp_send\n"));
 524:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 525:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV6 || (LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS)
 526:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (ip_addr_ismulticast(dst_ip_route)) {
 527:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV6
 528:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (IP_IS_V6(dst_ip)) {
 529:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* For multicast, find a netif based on source address. */
 530:Middlewares/Third_Party/LwIP/src/core/udp.c ****       dst_ip_route = &pcb->local_ip;
 531:Middlewares/Third_Party/LwIP/src/core/udp.c ****     } else
 532:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV6 */
 533:Middlewares/Third_Party/LwIP/src/core/udp.c ****     {
 534:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS
 535:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* IPv4 does not use source-based routing by default, so we use an
 536:Middlewares/Third_Party/LwIP/src/core/udp.c ****          administratively selected interface for multicast by default.
 537:Middlewares/Third_Party/LwIP/src/core/udp.c ****          However, this can be overridden by setting an interface address
 538:Middlewares/Third_Party/LwIP/src/core/udp.c ****          in pcb->multicast_ip that is used for routing. */
 539:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (!ip_addr_isany_val(pcb->multicast_ip) &&
 540:Middlewares/Third_Party/LwIP/src/core/udp.c ****           !ip4_addr_cmp(ip_2_ip4(&pcb->multicast_ip), IP4_ADDR_BROADCAST)) {
 541:Middlewares/Third_Party/LwIP/src/core/udp.c ****         dst_ip_route = &pcb->multicast_ip;
 542:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 543:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS */
 544:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 545:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 546:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV6 || (LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS) */
 547:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 548:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* find the outgoing network interface for this packet */
 549:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if(IP_IS_ANY_TYPE_VAL(pcb->local_ip)) {
 550:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* Don't call ip_route() with IP_ANY_TYPE */
 551:Middlewares/Third_Party/LwIP/src/core/udp.c ****     netif = ip_route(IP46_ADDR_ANY(IP_GET_TYPE(dst_ip_route)), dst_ip_route);
 552:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else {
 553:Middlewares/Third_Party/LwIP/src/core/udp.c ****     netif = ip_route(&pcb->local_ip, dst_ip_route);
 554:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 555:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 556:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* no outgoing network interface could be found? */
 557:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (netif == NULL) {
 558:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("udp_send: No route to "));
 559:Middlewares/Third_Party/LwIP/src/core/udp.c ****     ip_addr_debug_print(UDP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, dst_ip);
 560:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG, ("\n"));
 561:Middlewares/Third_Party/LwIP/src/core/udp.c ****     UDP_STATS_INC(udp.rterr);
 562:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_RTE;
 563:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 564:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 565:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return udp_sendto_if_chksum(pcb, p, dst_ip, dst_port, netif, have_chksum, chksum);
ARM GAS  /tmp/ccH8Bvzf.s 			page 24


 566:Middlewares/Third_Party/LwIP/src/core/udp.c **** #else /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 567:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return udp_sendto_if(pcb, p, dst_ip, dst_port, netif);
 568:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 569:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 570:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 571:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
 572:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @ingroup udp_raw
 573:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Send data to a specified address using UDP.
 574:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * The netif used for sending can be specified.
 575:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 576:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * This function exists mainly for DHCP, to be able to send UDP packets
 577:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * on a netif that is still down.
 578:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 579:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param pcb UDP PCB used to send the data.
 580:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param p chain of pbuf's to be sent.
 581:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param dst_ip Destination IP address.
 582:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param dst_port Destination UDP port.
 583:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param netif the netif used for sending.
 584:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 585:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * dst_ip & dst_port are expected to be in the same byte order as in the pcb.
 586:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 587:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @return lwIP error code (@see udp_send for possible error codes)
 588:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 589:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @see udp_disconnect() udp_send()
 590:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
 591:Middlewares/Third_Party/LwIP/src/core/udp.c **** err_t
 592:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_sendto_if(struct udp_pcb *pcb, struct pbuf *p,
 593:Middlewares/Third_Party/LwIP/src/core/udp.c ****   const ip_addr_t *dst_ip, u16_t dst_port, struct netif *netif)
 594:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 595:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 596:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return udp_sendto_if_chksum(pcb, p, dst_ip, dst_port, netif, 0, 0);
 597:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 598:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 599:Middlewares/Third_Party/LwIP/src/core/udp.c **** /** Same as udp_sendto_if(), but with checksum */
 600:Middlewares/Third_Party/LwIP/src/core/udp.c **** err_t
 601:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_sendto_if_chksum(struct udp_pcb *pcb, struct pbuf *p, const ip_addr_t *dst_ip,
 602:Middlewares/Third_Party/LwIP/src/core/udp.c ****                      u16_t dst_port, struct netif *netif, u8_t have_chksum,
 603:Middlewares/Third_Party/LwIP/src/core/udp.c ****                      u16_t chksum)
 604:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 605:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 606:Middlewares/Third_Party/LwIP/src/core/udp.c ****   const ip_addr_t *src_ip;
 607:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 608:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if ((pcb == NULL) || (dst_ip == NULL) || !IP_ADDR_PCB_VERSION_MATCH(pcb, dst_ip)) {
 609:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 610:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 611:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 612:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* PCB local address is IP_ANY_ADDR? */
 613:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV6
 614:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (IP_IS_V6(dst_ip)) {
 615:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (ip6_addr_isany(ip_2_ip6(&pcb->local_ip))) {
 616:Middlewares/Third_Party/LwIP/src/core/udp.c ****       src_ip = ip6_select_source_address(netif, ip_2_ip6(dst_ip));
 617:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (src_ip == NULL) {
 618:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* No suitable source address was found. */
 619:Middlewares/Third_Party/LwIP/src/core/udp.c ****         return ERR_RTE;
 620:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 621:Middlewares/Third_Party/LwIP/src/core/udp.c ****     } else {
 622:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* use UDP PCB local IPv6 address as source address, if still valid. */
ARM GAS  /tmp/ccH8Bvzf.s 			page 25


 623:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (netif_get_ip6_addr_match(netif, ip_2_ip6(&pcb->local_ip)) < 0) {
 624:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* Address isn't valid anymore. */
 625:Middlewares/Third_Party/LwIP/src/core/udp.c ****         return ERR_RTE;
 626:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 627:Middlewares/Third_Party/LwIP/src/core/udp.c ****       src_ip = &pcb->local_ip;
 628:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 629:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 630:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV6 */
 631:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV4 && LWIP_IPV6
 632:Middlewares/Third_Party/LwIP/src/core/udp.c ****   else
 633:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 634:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV4
 635:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (ip4_addr_isany(ip_2_ip4(&pcb->local_ip)) ||
 636:Middlewares/Third_Party/LwIP/src/core/udp.c ****       ip4_addr_ismulticast(ip_2_ip4(&pcb->local_ip))) {
 637:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* if the local_ip is any or multicast
 638:Middlewares/Third_Party/LwIP/src/core/udp.c ****      * use the outgoing network interface IP address as source address */
 639:Middlewares/Third_Party/LwIP/src/core/udp.c ****     src_ip = netif_ip_addr4(netif);
 640:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else {
 641:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* check if UDP PCB local IP address is correct
 642:Middlewares/Third_Party/LwIP/src/core/udp.c ****      * this could be an old address if netif->ip_addr has changed */
 643:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (!ip4_addr_cmp(ip_2_ip4(&(pcb->local_ip)), netif_ip4_addr(netif))) {
 644:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* local_ip doesn't match, drop the packet */
 645:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return ERR_RTE;
 646:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 647:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* use UDP PCB local IP address as source address */
 648:Middlewares/Third_Party/LwIP/src/core/udp.c ****     src_ip = &pcb->local_ip;
 649:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 650:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV4 */
 651:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 652:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return udp_sendto_if_src_chksum(pcb, p, dst_ip, dst_port, netif, have_chksum, chksum, src_ip);
 653:Middlewares/Third_Party/LwIP/src/core/udp.c **** #else /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 654:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return udp_sendto_if_src(pcb, p, dst_ip, dst_port, netif, src_ip);
 655:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 656:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 657:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 658:Middlewares/Third_Party/LwIP/src/core/udp.c **** /** @ingroup udp_raw
 659:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Same as @ref udp_sendto_if, but with source address */
 660:Middlewares/Third_Party/LwIP/src/core/udp.c **** err_t
 661:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_sendto_if_src(struct udp_pcb *pcb, struct pbuf *p,
 662:Middlewares/Third_Party/LwIP/src/core/udp.c ****   const ip_addr_t *dst_ip, u16_t dst_port, struct netif *netif, const ip_addr_t *src_ip)
 663:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 664:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 665:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return udp_sendto_if_src_chksum(pcb, p, dst_ip, dst_port, netif, 0, 0, src_ip);
 666:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 667:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 668:Middlewares/Third_Party/LwIP/src/core/udp.c **** /** Same as udp_sendto_if_src(), but with checksum */
 669:Middlewares/Third_Party/LwIP/src/core/udp.c **** err_t
 670:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_sendto_if_src_chksum(struct udp_pcb *pcb, struct pbuf *p, const ip_addr_t *dst_ip,
 671:Middlewares/Third_Party/LwIP/src/core/udp.c ****                      u16_t dst_port, struct netif *netif, u8_t have_chksum,
 672:Middlewares/Third_Party/LwIP/src/core/udp.c ****                      u16_t chksum, const ip_addr_t *src_ip)
 673:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 674:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 675:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_hdr *udphdr;
 676:Middlewares/Third_Party/LwIP/src/core/udp.c ****   err_t err;
 677:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct pbuf *q; /* q will be sent down the stack */
 678:Middlewares/Third_Party/LwIP/src/core/udp.c ****   u8_t ip_proto;
 679:Middlewares/Third_Party/LwIP/src/core/udp.c ****   u8_t ttl;
ARM GAS  /tmp/ccH8Bvzf.s 			page 26


 680:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 681:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if ((pcb == NULL) || (dst_ip == NULL) || !IP_ADDR_PCB_VERSION_MATCH(pcb, src_ip) ||
 682:Middlewares/Third_Party/LwIP/src/core/udp.c ****       !IP_ADDR_PCB_VERSION_MATCH(pcb, dst_ip)) {
 683:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 684:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 685:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 686:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV4 && IP_SOF_BROADCAST
 687:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* broadcast filter? */
 688:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (!ip_get_option(pcb, SOF_BROADCAST) &&
 689:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV6
 690:Middlewares/Third_Party/LwIP/src/core/udp.c ****       IP_IS_V4(dst_ip) &&
 691:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV6 */
 692:Middlewares/Third_Party/LwIP/src/core/udp.c ****       ip_addr_isbroadcast(dst_ip, netif)) {
 693:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 694:Middlewares/Third_Party/LwIP/src/core/udp.c ****       ("udp_sendto_if: SOF_BROADCAST not enabled on pcb %p\n", (void *)pcb));
 695:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 696:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 697:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV4 && IP_SOF_BROADCAST */
 698:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 699:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* if the PCB is not yet bound to a port, bind it here */
 700:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (pcb->local_port == 0) {
 701:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE, ("udp_send: not yet bound to a port, binding now\n"));
 702:Middlewares/Third_Party/LwIP/src/core/udp.c ****     err = udp_bind(pcb, &pcb->local_ip, pcb->local_port);
 703:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (err != ERR_OK) {
 704:Middlewares/Third_Party/LwIP/src/core/udp.c ****       LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS, ("udp_send: forced port bind
 705:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return err;
 706:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 707:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 708:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 709:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* not enough space to add an UDP header to first pbuf in given p chain? */
 710:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (pbuf_header(p, UDP_HLEN)) {
 711:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* allocate header in a separate new pbuf */
 712:Middlewares/Third_Party/LwIP/src/core/udp.c ****     q = pbuf_alloc(PBUF_IP, UDP_HLEN, PBUF_RAM);
 713:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* new header pbuf could not be allocated? */
 714:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (q == NULL) {
 715:Middlewares/Third_Party/LwIP/src/core/udp.c ****       LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS, ("udp_send: could not alloca
 716:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return ERR_MEM;
 717:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 718:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (p->tot_len != 0) {
 719:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* chain header q in front of given pbuf p (only if p contains data) */
 720:Middlewares/Third_Party/LwIP/src/core/udp.c ****       pbuf_chain(q, p);
 721:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 722:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* first pbuf q points to header pbuf */
 723:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG,
 724:Middlewares/Third_Party/LwIP/src/core/udp.c ****                 ("udp_send: added header pbuf %p before given pbuf %p\n", (void *)q, (void *)p));
 725:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else {
 726:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* adding space for header within p succeeded */
 727:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* first pbuf q equals given pbuf */
 728:Middlewares/Third_Party/LwIP/src/core/udp.c ****     q = p;
 729:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG, ("udp_send: added header in given pbuf %p\n", (void *)p));
 730:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 731:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_ASSERT("check that first pbuf can hold struct udp_hdr",
 732:Middlewares/Third_Party/LwIP/src/core/udp.c ****               (q->len >= sizeof(struct udp_hdr)));
 733:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* q now represents the packet to be sent */
 734:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udphdr = (struct udp_hdr *)q->payload;
 735:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udphdr->src = lwip_htons(pcb->local_port);
 736:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udphdr->dest = lwip_htons(dst_port);
ARM GAS  /tmp/ccH8Bvzf.s 			page 27


 737:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* in UDP, 0 checksum means 'no checksum' */
 738:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udphdr->chksum = 0x0000;
 739:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 740:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Multicast Loop? */
 741:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if (LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS) || (LWIP_IPV6 && LWIP_IPV6_MLD)
 742:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (((pcb->flags & UDP_FLAGS_MULTICAST_LOOP) != 0) && ip_addr_ismulticast(dst_ip)) {
 743:Middlewares/Third_Party/LwIP/src/core/udp.c ****     q->flags |= PBUF_FLAG_MCASTLOOP;
 744:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 745:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* (LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS) || (LWIP_IPV6 && LWIP_IPV6_MLD) */
 746:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 747:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG, ("udp_send: sending datagram of length %"U16_F"\n", q->tot_len));
 748:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 749:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_UDPLITE
 750:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* UDP Lite protocol? */
 751:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (pcb->flags & UDP_FLAGS_UDPLITE) {
 752:Middlewares/Third_Party/LwIP/src/core/udp.c ****     u16_t chklen, chklen_hdr;
 753:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG, ("udp_send: UDP LITE packet length %"U16_F"\n", q->tot_len));
 754:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* set UDP message length in UDP header */
 755:Middlewares/Third_Party/LwIP/src/core/udp.c ****     chklen_hdr = chklen = pcb->chksum_len_tx;
 756:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if ((chklen < sizeof(struct udp_hdr)) || (chklen > q->tot_len)) {
 757:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (chklen != 0) {
 758:Middlewares/Third_Party/LwIP/src/core/udp.c ****         LWIP_DEBUGF(UDP_DEBUG, ("udp_send: UDP LITE pcb->chksum_len is illegal: %"U16_F"\n", chklen
 759:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 760:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* For UDP-Lite, checksum length of 0 means checksum
 761:Middlewares/Third_Party/LwIP/src/core/udp.c ****          over the complete packet. (See RFC 3828 chap. 3.1)
 762:Middlewares/Third_Party/LwIP/src/core/udp.c ****          At least the UDP-Lite header must be covered by the
 763:Middlewares/Third_Party/LwIP/src/core/udp.c ****          checksum, therefore, if chksum_len has an illegal
 764:Middlewares/Third_Party/LwIP/src/core/udp.c ****          value, we generate the checksum over the complete
 765:Middlewares/Third_Party/LwIP/src/core/udp.c ****          packet to be safe. */
 766:Middlewares/Third_Party/LwIP/src/core/udp.c ****       chklen_hdr = 0;
 767:Middlewares/Third_Party/LwIP/src/core/udp.c ****       chklen = q->tot_len;
 768:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 769:Middlewares/Third_Party/LwIP/src/core/udp.c ****     udphdr->len = lwip_htons(chklen_hdr);
 770:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* calculate checksum */
 771:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if CHECKSUM_GEN_UDP
 772:Middlewares/Third_Party/LwIP/src/core/udp.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_UDP) {
 773:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY
 774:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (have_chksum) {
 775:Middlewares/Third_Party/LwIP/src/core/udp.c ****         chklen = UDP_HLEN;
 776:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 777:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
 778:Middlewares/Third_Party/LwIP/src/core/udp.c ****       udphdr->chksum = ip_chksum_pseudo_partial(q, IP_PROTO_UDPLITE,
 779:Middlewares/Third_Party/LwIP/src/core/udp.c ****         q->tot_len, chklen, src_ip, dst_ip);
 780:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY
 781:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (have_chksum) {
 782:Middlewares/Third_Party/LwIP/src/core/udp.c ****         u32_t acc;
 783:Middlewares/Third_Party/LwIP/src/core/udp.c ****         acc = udphdr->chksum + (u16_t)~(chksum);
 784:Middlewares/Third_Party/LwIP/src/core/udp.c ****         udphdr->chksum = FOLD_U32T(acc);
 785:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 786:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
 787:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 788:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* chksum zero must become 0xffff, as zero means 'no checksum' */
 789:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (udphdr->chksum == 0x0000) {
 790:Middlewares/Third_Party/LwIP/src/core/udp.c ****         udphdr->chksum = 0xffff;
 791:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 792:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 793:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* CHECKSUM_GEN_UDP */
ARM GAS  /tmp/ccH8Bvzf.s 			page 28


 794:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 795:Middlewares/Third_Party/LwIP/src/core/udp.c ****     ip_proto = IP_PROTO_UDPLITE;
 796:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else
 797:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_UDPLITE */
 798:Middlewares/Third_Party/LwIP/src/core/udp.c ****   {      /* UDP */
 799:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG, ("udp_send: UDP packet length %"U16_F"\n", q->tot_len));
 800:Middlewares/Third_Party/LwIP/src/core/udp.c ****     udphdr->len = lwip_htons(q->tot_len);
 801:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* calculate checksum */
 802:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if CHECKSUM_GEN_UDP
 803:Middlewares/Third_Party/LwIP/src/core/udp.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_UDP) {
 804:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* Checksum is mandatory over IPv6. */
 805:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (IP_IS_V6(dst_ip) || (pcb->flags & UDP_FLAGS_NOCHKSUM) == 0) {
 806:Middlewares/Third_Party/LwIP/src/core/udp.c ****         u16_t udpchksum;
 807:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY
 808:Middlewares/Third_Party/LwIP/src/core/udp.c ****         if (have_chksum) {
 809:Middlewares/Third_Party/LwIP/src/core/udp.c ****           u32_t acc;
 810:Middlewares/Third_Party/LwIP/src/core/udp.c ****           udpchksum = ip_chksum_pseudo_partial(q, IP_PROTO_UDP,
 811:Middlewares/Third_Party/LwIP/src/core/udp.c ****             q->tot_len, UDP_HLEN, src_ip, dst_ip);
 812:Middlewares/Third_Party/LwIP/src/core/udp.c ****           acc = udpchksum + (u16_t)~(chksum);
 813:Middlewares/Third_Party/LwIP/src/core/udp.c ****           udpchksum = FOLD_U32T(acc);
 814:Middlewares/Third_Party/LwIP/src/core/udp.c ****         } else
 815:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
 816:Middlewares/Third_Party/LwIP/src/core/udp.c ****         {
 817:Middlewares/Third_Party/LwIP/src/core/udp.c ****           udpchksum = ip_chksum_pseudo(q, IP_PROTO_UDP, q->tot_len,
 818:Middlewares/Third_Party/LwIP/src/core/udp.c ****             src_ip, dst_ip);
 819:Middlewares/Third_Party/LwIP/src/core/udp.c ****         }
 820:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 821:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* chksum zero must become 0xffff, as zero means 'no checksum' */
 822:Middlewares/Third_Party/LwIP/src/core/udp.c ****         if (udpchksum == 0x0000) {
 823:Middlewares/Third_Party/LwIP/src/core/udp.c ****           udpchksum = 0xffff;
 824:Middlewares/Third_Party/LwIP/src/core/udp.c ****         }
 825:Middlewares/Third_Party/LwIP/src/core/udp.c ****         udphdr->chksum = udpchksum;
 826:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 827:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 828:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* CHECKSUM_GEN_UDP */
 829:Middlewares/Third_Party/LwIP/src/core/udp.c ****     ip_proto = IP_PROTO_UDP;
 830:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 831:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 832:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Determine TTL to use */
 833:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_MULTICAST_TX_OPTIONS
 834:Middlewares/Third_Party/LwIP/src/core/udp.c ****   ttl = (ip_addr_ismulticast(dst_ip) ? udp_get_multicast_ttl(pcb) : pcb->ttl);
 835:Middlewares/Third_Party/LwIP/src/core/udp.c **** #else /* LWIP_MULTICAST_TX_OPTIONS */
 836:Middlewares/Third_Party/LwIP/src/core/udp.c ****   ttl = pcb->ttl;
 837:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 838:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 839:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG, ("udp_send: UDP checksum 0x%04"X16_F"\n", udphdr->chksum));
 840:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG, ("udp_send: ip_output_if (,,,,0x%02"X16_F",)\n", (u16_t)ip_proto));
 841:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* output to IP */
 842:Middlewares/Third_Party/LwIP/src/core/udp.c ****   NETIF_SET_HWADDRHINT(netif, &(pcb->addr_hint));
 843:Middlewares/Third_Party/LwIP/src/core/udp.c ****   err = ip_output_if_src(q, src_ip, dst_ip, ttl, pcb->tos, ip_proto, netif);
 844:Middlewares/Third_Party/LwIP/src/core/udp.c ****   NETIF_SET_HWADDRHINT(netif, NULL);
 845:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 846:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* @todo: must this be increased even if error occurred? */
 847:Middlewares/Third_Party/LwIP/src/core/udp.c ****   MIB2_STATS_INC(mib2.udpoutdatagrams);
 848:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 849:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* did we chain a separate header pbuf earlier? */
 850:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (q != p) {
ARM GAS  /tmp/ccH8Bvzf.s 			page 29


 851:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* free the header pbuf */
 852:Middlewares/Third_Party/LwIP/src/core/udp.c ****     pbuf_free(q);
 853:Middlewares/Third_Party/LwIP/src/core/udp.c ****     q = NULL;
 854:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* p is still referenced by the caller, and will live on */
 855:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 856:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 857:Middlewares/Third_Party/LwIP/src/core/udp.c ****   UDP_STATS_INC(udp.xmit);
 858:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return err;
 859:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 860:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 861:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
 862:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @ingroup udp_raw
 863:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Bind an UDP PCB.
 864:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 865:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param pcb UDP PCB to be bound with a local address ipaddr and port.
 866:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param ipaddr local IP address to bind with. Use IP4_ADDR_ANY to
 867:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * bind to all local interfaces.
 868:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param port local UDP port to bind with. Use 0 to automatically bind
 869:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * to a random port between UDP_LOCAL_PORT_RANGE_START and
 870:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * UDP_LOCAL_PORT_RANGE_END.
 871:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 872:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * ipaddr & port are expected to be in the same byte order as in the pcb.
 873:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 874:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @return lwIP error code.
 875:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * - ERR_OK. Successful. No error occurred.
 876:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * - ERR_USE. The specified ipaddr and port are already bound to by
 877:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * another UDP PCB.
 878:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 879:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @see udp_disconnect()
 880:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
 881:Middlewares/Third_Party/LwIP/src/core/udp.c **** err_t
 882:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_bind(struct udp_pcb *pcb, const ip_addr_t *ipaddr, u16_t port)
 883:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 631              		.loc 1 883 1 view -0
 632              		.cfi_startproc
 633              		@ args = 0, pretend = 0, frame = 0
 634              		@ frame_needed = 0, uses_anonymous_args = 0
 635              		.loc 1 883 1 is_stmt 0 view .LVU204
 636 0000 70B5     		push	{r4, r5, r6, lr}
 637              	.LCFI4:
 638              		.cfi_def_cfa_offset 16
 639              		.cfi_offset 4, -16
 640              		.cfi_offset 5, -12
 641              		.cfi_offset 6, -8
 642              		.cfi_offset 14, -4
 643 0002 0446     		mov	r4, r0
 884:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_pcb *ipcb;
 644              		.loc 1 884 3 is_stmt 1 view .LVU205
 885:Middlewares/Third_Party/LwIP/src/core/udp.c ****   u8_t rebind;
 645              		.loc 1 885 3 view .LVU206
 886:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 887:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV4
 888:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Don't propagate NULL pointer (IPv4 ANY) to subsequent functions */
 889:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (ipaddr == NULL) {
 646              		.loc 1 889 3 view .LVU207
 647              		.loc 1 889 6 is_stmt 0 view .LVU208
 648 0004 0D46     		mov	r5, r1
ARM GAS  /tmp/ccH8Bvzf.s 			page 30


 649 0006 71B1     		cbz	r1, .L73
 650              	.L55:
 651              	.LVL74:
 890:Middlewares/Third_Party/LwIP/src/core/udp.c ****     ipaddr = IP4_ADDR_ANY;
 891:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 892:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV4 */
 893:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 894:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* still need to check for ipaddr == NULL in IPv6 only case */
 895:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if ((pcb == NULL) || (ipaddr == NULL)) {
 652              		.loc 1 895 3 is_stmt 1 view .LVU209
 653              		.loc 1 895 32 is_stmt 0 view .LVU210
 654 0008 B5FA85F3 		clz	r3, r5
 655 000c 5B09     		lsrs	r3, r3, #5
 656              		.loc 1 895 21 view .LVU211
 657 000e 002C     		cmp	r4, #0
 658 0010 08BF     		it	eq
 659 0012 0123     		moveq	r3, #1
 660              		.loc 1 895 6 view .LVU212
 661 0014 6BBB     		cbnz	r3, .L66
 896:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 897:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 898:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 899:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE, ("udp_bind(ipaddr = "));
 662              		.loc 1 899 66 is_stmt 1 view .LVU213
 900:Middlewares/Third_Party/LwIP/src/core/udp.c ****   ip_addr_debug_print(UDP_DEBUG | LWIP_DBG_TRACE, ipaddr);
 663              		.loc 1 900 58 view .LVU214
 901:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE, (", port = %"U16_F")\n", port));
 664              		.loc 1 901 74 view .LVU215
 902:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 903:Middlewares/Third_Party/LwIP/src/core/udp.c ****   rebind = 0;
 665              		.loc 1 903 3 view .LVU216
 666              	.LVL75:
 904:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Check for double bind and rebind of the same pcb */
 905:Middlewares/Third_Party/LwIP/src/core/udp.c ****   for (ipcb = udp_pcbs; ipcb != NULL; ipcb = ipcb->next) {
 667              		.loc 1 905 3 view .LVU217
 668              		.loc 1 905 13 is_stmt 0 view .LVU218
 669 0016 1B4B     		ldr	r3, .L76
 670 0018 1B68     		ldr	r3, [r3]
 671              	.LVL76:
 672              		.loc 1 905 13 view .LVU219
 673 001a 1946     		mov	r1, r3
 674              	.LVL77:
 675              	.L57:
 676              		.loc 1 905 3 discriminator 1 view .LVU220
 677 001c 29B1     		cbz	r1, .L74
 906:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* is this UDP PCB already on active list? */
 907:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (pcb == ipcb) {
 678              		.loc 1 907 5 is_stmt 1 view .LVU221
 679              		.loc 1 907 8 is_stmt 0 view .LVU222
 680 001e A142     		cmp	r1, r4
 681 0020 14D0     		beq	.L67
 905:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* is this UDP PCB already on active list? */
 682              		.loc 1 905 44 discriminator 2 view .LVU223
 683 0022 C968     		ldr	r1, [r1, #12]
 684              	.LVL78:
 905:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* is this UDP PCB already on active list? */
 685              		.loc 1 905 44 discriminator 2 view .LVU224
ARM GAS  /tmp/ccH8Bvzf.s 			page 31


 686 0024 FAE7     		b	.L57
 687              	.LVL79:
 688              	.L73:
 890:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 689              		.loc 1 890 12 view .LVU225
 690 0026 184D     		ldr	r5, .L76+4
 691 0028 EEE7     		b	.L55
 692              	.LVL80:
 693              	.L74:
 903:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Check for double bind and rebind of the same pcb */
 694              		.loc 1 903 10 view .LVU226
 695 002a 0026     		movs	r6, #0
 696              	.L58:
 697              	.LVL81:
 908:Middlewares/Third_Party/LwIP/src/core/udp.c ****       rebind = 1;
 909:Middlewares/Third_Party/LwIP/src/core/udp.c ****       break;
 910:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 911:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 912:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 913:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* no port specified? */
 914:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (port == 0) {
 698              		.loc 1 914 3 is_stmt 1 view .LVU227
 699              		.loc 1 914 6 is_stmt 0 view .LVU228
 700 002c 8AB9     		cbnz	r2, .L60
 915:Middlewares/Third_Party/LwIP/src/core/udp.c ****     port = udp_new_port();
 701              		.loc 1 915 5 is_stmt 1 view .LVU229
 702              		.loc 1 915 12 is_stmt 0 view .LVU230
 703 002e FFF7FEFF 		bl	udp_new_port
 704              	.LVL82:
 916:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (port == 0) {
 705              		.loc 1 916 5 is_stmt 1 view .LVU231
 706              		.loc 1 916 8 is_stmt 0 view .LVU232
 707 0032 0246     		mov	r2, r0
 708 0034 00B3     		cbz	r0, .L75
 709              	.LVL83:
 710              	.L61:
 917:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* no more ports available in local range */
 918:Middlewares/Third_Party/LwIP/src/core/udp.c ****       LWIP_DEBUGF(UDP_DEBUG, ("udp_bind: out of free UDP ports\n"));
 919:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return ERR_USE;
 920:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 921:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else {
 922:Middlewares/Third_Party/LwIP/src/core/udp.c ****     for (ipcb = udp_pcbs; ipcb != NULL; ipcb = ipcb->next) {
 923:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (pcb != ipcb) {
 924:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* By default, we don't allow to bind to a port that any other udp
 925:Middlewares/Third_Party/LwIP/src/core/udp.c ****          PCB is already bound to, unless *all* PCBs with that port have tha
 926:Middlewares/Third_Party/LwIP/src/core/udp.c ****          REUSEADDR flag set. */
 927:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if SO_REUSE
 928:Middlewares/Third_Party/LwIP/src/core/udp.c ****         if (!ip_get_option(pcb, SOF_REUSEADDR) ||
 929:Middlewares/Third_Party/LwIP/src/core/udp.c ****             !ip_get_option(ipcb, SOF_REUSEADDR))
 930:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* SO_REUSE */
 931:Middlewares/Third_Party/LwIP/src/core/udp.c ****         {
 932:Middlewares/Third_Party/LwIP/src/core/udp.c ****           /* port matches that of PCB in list and REUSEADDR not set -> reject */
 933:Middlewares/Third_Party/LwIP/src/core/udp.c ****           if ((ipcb->local_port == port) &&
 934:Middlewares/Third_Party/LwIP/src/core/udp.c ****               /* IP address matches? */
 935:Middlewares/Third_Party/LwIP/src/core/udp.c ****               ip_addr_cmp(&ipcb->local_ip, ipaddr)) {
 936:Middlewares/Third_Party/LwIP/src/core/udp.c ****             /* other PCB already binds to this local IP and port */
 937:Middlewares/Third_Party/LwIP/src/core/udp.c ****             LWIP_DEBUGF(UDP_DEBUG,
ARM GAS  /tmp/ccH8Bvzf.s 			page 32


 938:Middlewares/Third_Party/LwIP/src/core/udp.c ****                         ("udp_bind: local port %"U16_F" already bound by another pcb\n", port));
 939:Middlewares/Third_Party/LwIP/src/core/udp.c ****             return ERR_USE;
 940:Middlewares/Third_Party/LwIP/src/core/udp.c ****           }
 941:Middlewares/Third_Party/LwIP/src/core/udp.c ****         }
 942:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 943:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 944:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 945:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 946:Middlewares/Third_Party/LwIP/src/core/udp.c ****   ip_addr_set_ipaddr(&pcb->local_ip, ipaddr);
 711              		.loc 1 946 3 is_stmt 1 view .LVU233
 712 0036 D5B1     		cbz	r5, .L70
 713              		.loc 1 946 3 is_stmt 0 discriminator 1 view .LVU234
 714 0038 2B68     		ldr	r3, [r5]
 715              	.L64:
 716              		.loc 1 946 3 discriminator 4 view .LVU235
 717 003a 2360     		str	r3, [r4]
 947:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 948:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb->local_port = port;
 718              		.loc 1 948 3 is_stmt 1 discriminator 4 view .LVU236
 719              		.loc 1 948 19 is_stmt 0 discriminator 4 view .LVU237
 720 003c 6282     		strh	r2, [r4, #18]	@ movhi
 949:Middlewares/Third_Party/LwIP/src/core/udp.c ****   mib2_udp_bind(pcb);
 721              		.loc 1 949 21 is_stmt 1 discriminator 4 view .LVU238
 950:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* pcb not active yet? */
 951:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (rebind == 0) {
 722              		.loc 1 951 3 discriminator 4 view .LVU239
 723              		.loc 1 951 6 is_stmt 0 discriminator 4 view .LVU240
 724 003e F6B9     		cbnz	r6, .L71
 952:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* place the PCB on the active list if not already there */
 953:Middlewares/Third_Party/LwIP/src/core/udp.c ****     pcb->next = udp_pcbs;
 725              		.loc 1 953 5 is_stmt 1 view .LVU241
 726              		.loc 1 953 15 is_stmt 0 view .LVU242
 727 0040 104B     		ldr	r3, .L76
 728 0042 1A68     		ldr	r2, [r3]
 729              	.LVL84:
 730              		.loc 1 953 15 view .LVU243
 731 0044 E260     		str	r2, [r4, #12]
 954:Middlewares/Third_Party/LwIP/src/core/udp.c ****     udp_pcbs = pcb;
 732              		.loc 1 954 5 is_stmt 1 view .LVU244
 733              		.loc 1 954 14 is_stmt 0 view .LVU245
 734 0046 1C60     		str	r4, [r3]
 955:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 956:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_STATE, ("udp_bind: bound to "));
 957:Middlewares/Third_Party/LwIP/src/core/udp.c ****   ip_addr_debug_print(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_STATE, &pcb->local_ip);
 958:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_STATE, (", port %"U16_F")\n", pcb->local_port))
 959:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return ERR_OK;
 735              		.loc 1 959 10 view .LVU246
 736 0048 0020     		movs	r0, #0
 737              	.LVL85:
 738              	.L56:
 960:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 739              		.loc 1 960 1 view .LVU247
 740 004a 70BD     		pop	{r4, r5, r6, pc}
 741              	.LVL86:
 742              	.L67:
 908:Middlewares/Third_Party/LwIP/src/core/udp.c ****       break;
 743              		.loc 1 908 14 view .LVU248
ARM GAS  /tmp/ccH8Bvzf.s 			page 33


 744 004c 0126     		movs	r6, #1
 745 004e EDE7     		b	.L58
 746              	.LVL87:
 747              	.L62:
 922:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (pcb != ipcb) {
 748              		.loc 1 922 46 discriminator 2 view .LVU249
 749 0050 DB68     		ldr	r3, [r3, #12]
 750              	.LVL88:
 751              	.L60:
 922:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (pcb != ipcb) {
 752              		.loc 1 922 5 discriminator 1 view .LVU250
 753 0052 002B     		cmp	r3, #0
 754 0054 EFD0     		beq	.L61
 923:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* By default, we don't allow to bind to a port that any other udp
 755              		.loc 1 923 7 is_stmt 1 view .LVU251
 923:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* By default, we don't allow to bind to a port that any other udp
 756              		.loc 1 923 10 is_stmt 0 view .LVU252
 757 0056 A342     		cmp	r3, r4
 758 0058 FAD0     		beq	.L62
 933:Middlewares/Third_Party/LwIP/src/core/udp.c ****               /* IP address matches? */
 759              		.loc 1 933 11 is_stmt 1 view .LVU253
 933:Middlewares/Third_Party/LwIP/src/core/udp.c ****               /* IP address matches? */
 760              		.loc 1 933 20 is_stmt 0 view .LVU254
 761 005a 598A     		ldrh	r1, [r3, #18]
 933:Middlewares/Third_Party/LwIP/src/core/udp.c ****               /* IP address matches? */
 762              		.loc 1 933 14 view .LVU255
 763 005c 9142     		cmp	r1, r2
 764 005e F7D1     		bne	.L62
 935:Middlewares/Third_Party/LwIP/src/core/udp.c ****             /* other PCB already binds to this local IP and port */
 765              		.loc 1 935 15 discriminator 1 view .LVU256
 766 0060 1868     		ldr	r0, [r3]
 767 0062 2968     		ldr	r1, [r5]
 933:Middlewares/Third_Party/LwIP/src/core/udp.c ****               /* IP address matches? */
 768              		.loc 1 933 42 discriminator 1 view .LVU257
 769 0064 8842     		cmp	r0, r1
 770 0066 F3D1     		bne	.L62
 939:Middlewares/Third_Party/LwIP/src/core/udp.c ****           }
 771              		.loc 1 939 20 view .LVU258
 772 0068 6FF00700 		mvn	r0, #7
 773 006c EDE7     		b	.L56
 774              	.LVL89:
 775              	.L70:
 946:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 776              		.loc 1 946 3 view .LVU259
 777 006e 0023     		movs	r3, #0
 778 0070 E3E7     		b	.L64
 779              	.LVL90:
 780              	.L66:
 896:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 781              		.loc 1 896 12 view .LVU260
 782 0072 6FF00500 		mvn	r0, #5
 783              	.LVL91:
 896:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 784              		.loc 1 896 12 view .LVU261
 785 0076 E8E7     		b	.L56
 786              	.LVL92:
 787              	.L75:
ARM GAS  /tmp/ccH8Bvzf.s 			page 34


 919:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 788              		.loc 1 919 14 view .LVU262
 789 0078 6FF00700 		mvn	r0, #7
 790              	.LVL93:
 919:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 791              		.loc 1 919 14 view .LVU263
 792 007c E5E7     		b	.L56
 793              	.LVL94:
 794              	.L71:
 959:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 795              		.loc 1 959 10 view .LVU264
 796 007e 0020     		movs	r0, #0
 797 0080 E3E7     		b	.L56
 798              	.L77:
 799 0082 00BF     		.align	2
 800              	.L76:
 801 0084 00000000 		.word	udp_pcbs
 802 0088 00000000 		.word	ip_addr_any
 803              		.cfi_endproc
 804              	.LFE168:
 806              		.section	.text.udp_sendto_if_src,"ax",%progbits
 807              		.align	1
 808              		.global	udp_sendto_if_src
 809              		.syntax unified
 810              		.thumb
 811              		.thumb_func
 812              		.fpu fpv5-sp-d16
 814              	udp_sendto_if_src:
 815              	.LVL95:
 816              	.LFB167:
 663:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 817              		.loc 1 663 1 is_stmt 1 view -0
 818              		.cfi_startproc
 819              		@ args = 8, pretend = 0, frame = 0
 820              		@ frame_needed = 0, uses_anonymous_args = 0
 663:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 821              		.loc 1 663 1 is_stmt 0 view .LVU266
 822 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 823              	.LCFI5:
 824              		.cfi_def_cfa_offset 28
 825              		.cfi_offset 4, -28
 826              		.cfi_offset 5, -24
 827              		.cfi_offset 6, -20
 828              		.cfi_offset 7, -16
 829              		.cfi_offset 8, -12
 830              		.cfi_offset 9, -8
 831              		.cfi_offset 14, -4
 832 0004 85B0     		sub	sp, sp, #20
 833              	.LCFI6:
 834              		.cfi_def_cfa_offset 48
 675:Middlewares/Third_Party/LwIP/src/core/udp.c ****   err_t err;
 835              		.loc 1 675 3 is_stmt 1 view .LVU267
 676:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct pbuf *q; /* q will be sent down the stack */
 836              		.loc 1 676 3 view .LVU268
 677:Middlewares/Third_Party/LwIP/src/core/udp.c ****   u8_t ip_proto;
 837              		.loc 1 677 3 view .LVU269
 678:Middlewares/Third_Party/LwIP/src/core/udp.c ****   u8_t ttl;
ARM GAS  /tmp/ccH8Bvzf.s 			page 35


 838              		.loc 1 678 3 view .LVU270
 679:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 839              		.loc 1 679 3 view .LVU271
 681:Middlewares/Third_Party/LwIP/src/core/udp.c ****       !IP_ADDR_PCB_VERSION_MATCH(pcb, dst_ip)) {
 840              		.loc 1 681 3 view .LVU272
 681:Middlewares/Third_Party/LwIP/src/core/udp.c ****       !IP_ADDR_PCB_VERSION_MATCH(pcb, dst_ip)) {
 841              		.loc 1 681 32 is_stmt 0 view .LVU273
 842 0006 B2FA82F5 		clz	r5, r2
 843 000a 6D09     		lsrs	r5, r5, #5
 681:Middlewares/Third_Party/LwIP/src/core/udp.c ****       !IP_ADDR_PCB_VERSION_MATCH(pcb, dst_ip)) {
 844              		.loc 1 681 84 view .LVU274
 845 000c 0028     		cmp	r0, #0
 846 000e 08BF     		it	eq
 847 0010 0125     		moveq	r5, #1
 681:Middlewares/Third_Party/LwIP/src/core/udp.c ****       !IP_ADDR_PCB_VERSION_MATCH(pcb, dst_ip)) {
 848              		.loc 1 681 6 view .LVU275
 849 0012 002D     		cmp	r5, #0
 850 0014 4FD1     		bne	.L83
 851 0016 0446     		mov	r4, r0
 852 0018 9046     		mov	r8, r2
 853 001a 9946     		mov	r9, r3
 854 001c 0D46     		mov	r5, r1
 700:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE, ("udp_send: not yet bound to a port, binding now\n"));
 855              		.loc 1 700 3 is_stmt 1 view .LVU276
 700:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE, ("udp_send: not yet bound to a port, binding now\n"));
 856              		.loc 1 700 10 is_stmt 0 view .LVU277
 857 001e 428A     		ldrh	r2, [r0, #18]
 858              	.LVL96:
 700:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE, ("udp_send: not yet bound to a port, binding now\n"));
 859              		.loc 1 700 6 view .LVU278
 860 0020 22B9     		cbnz	r2, .L80
 701:Middlewares/Third_Party/LwIP/src/core/udp.c ****     err = udp_bind(pcb, &pcb->local_ip, pcb->local_port);
 861              		.loc 1 701 98 is_stmt 1 view .LVU279
 702:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (err != ERR_OK) {
 862              		.loc 1 702 5 view .LVU280
 702:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (err != ERR_OK) {
 863              		.loc 1 702 11 is_stmt 0 view .LVU281
 864 0022 0146     		mov	r1, r0
 865              	.LVL97:
 702:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (err != ERR_OK) {
 866              		.loc 1 702 11 view .LVU282
 867 0024 FFF7FEFF 		bl	udp_bind
 868              	.LVL98:
 703:Middlewares/Third_Party/LwIP/src/core/udp.c ****       LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS, ("udp_send: forced port bind
 869              		.loc 1 703 5 is_stmt 1 view .LVU283
 703:Middlewares/Third_Party/LwIP/src/core/udp.c ****       LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS, ("udp_send: forced port bind
 870              		.loc 1 703 8 is_stmt 0 view .LVU284
 871 0028 0746     		mov	r7, r0
 872 002a 50BB     		cbnz	r0, .L79
 873              	.LVL99:
 874              	.L80:
 710:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* allocate header in a separate new pbuf */
 875              		.loc 1 710 3 is_stmt 1 view .LVU285
 710:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* allocate header in a separate new pbuf */
 876              		.loc 1 710 7 is_stmt 0 view .LVU286
 877 002c 0821     		movs	r1, #8
 878 002e 2846     		mov	r0, r5
ARM GAS  /tmp/ccH8Bvzf.s 			page 36


 879 0030 FFF7FEFF 		bl	pbuf_header
 880              	.LVL100:
 710:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* allocate header in a separate new pbuf */
 881              		.loc 1 710 6 view .LVU287
 882 0034 48BB     		cbnz	r0, .L87
 728:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG, ("udp_send: added header in given pbuf %p\n", (void *)p));
 883              		.loc 1 728 7 view .LVU288
 884 0036 2E46     		mov	r6, r5
 885              	.L81:
 886              	.LVL101:
 729:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 887              		.loc 1 729 85 is_stmt 1 view .LVU289
 731:Middlewares/Third_Party/LwIP/src/core/udp.c ****               (q->len >= sizeof(struct udp_hdr)));
 888              		.loc 1 731 3 view .LVU290
 731:Middlewares/Third_Party/LwIP/src/core/udp.c ****               (q->len >= sizeof(struct udp_hdr)));
 889              		.loc 1 731 3 view .LVU291
 890 0038 7389     		ldrh	r3, [r6, #10]
 891 003a 072B     		cmp	r3, #7
 892 003c 33D9     		bls	.L88
 893              	.L82:
 734:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udphdr->src = lwip_htons(pcb->local_port);
 894              		.loc 1 734 3 view .LVU292
 734:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udphdr->src = lwip_htons(pcb->local_port);
 895              		.loc 1 734 10 is_stmt 0 view .LVU293
 896 003e 7768     		ldr	r7, [r6, #4]
 897              	.LVL102:
 735:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udphdr->dest = lwip_htons(dst_port);
 898              		.loc 1 735 3 is_stmt 1 view .LVU294
 735:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udphdr->dest = lwip_htons(dst_port);
 899              		.loc 1 735 17 is_stmt 0 view .LVU295
 900 0040 608A     		ldrh	r0, [r4, #18]
 901 0042 FFF7FEFF 		bl	lwip_htons
 902              	.LVL103:
 735:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udphdr->dest = lwip_htons(dst_port);
 903              		.loc 1 735 15 view .LVU296
 904 0046 3880     		strh	r0, [r7]	@ unaligned
 736:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* in UDP, 0 checksum means 'no checksum' */
 905              		.loc 1 736 3 is_stmt 1 view .LVU297
 736:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* in UDP, 0 checksum means 'no checksum' */
 906              		.loc 1 736 18 is_stmt 0 view .LVU298
 907 0048 4846     		mov	r0, r9
 908 004a FFF7FEFF 		bl	lwip_htons
 909              	.LVL104:
 736:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* in UDP, 0 checksum means 'no checksum' */
 910              		.loc 1 736 16 view .LVU299
 911 004e 7880     		strh	r0, [r7, #2]	@ unaligned
 738:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 912              		.loc 1 738 3 is_stmt 1 view .LVU300
 738:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 913              		.loc 1 738 18 is_stmt 0 view .LVU301
 914 0050 0023     		movs	r3, #0
 915 0052 BB71     		strb	r3, [r7, #6]
 916 0054 FB71     		strb	r3, [r7, #7]
 747:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 917              		.loc 1 747 90 is_stmt 1 view .LVU302
 799:Middlewares/Third_Party/LwIP/src/core/udp.c ****     udphdr->len = lwip_htons(q->tot_len);
 918              		.loc 1 799 83 view .LVU303
ARM GAS  /tmp/ccH8Bvzf.s 			page 37


 800:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* calculate checksum */
 919              		.loc 1 800 5 view .LVU304
 800:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* calculate checksum */
 920              		.loc 1 800 19 is_stmt 0 view .LVU305
 921 0056 3089     		ldrh	r0, [r6, #8]
 922 0058 FFF7FEFF 		bl	lwip_htons
 923              	.LVL105:
 800:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* calculate checksum */
 924              		.loc 1 800 17 view .LVU306
 925 005c B880     		strh	r0, [r7, #4]	@ unaligned
 829:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 926              		.loc 1 829 5 is_stmt 1 view .LVU307
 927              	.LVL106:
 836:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 928              		.loc 1 836 3 view .LVU308
 839:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG, ("udp_send: ip_output_if (,,,,0x%02"X16_F",)\n", (u16_t)ip_proto));
 929              		.loc 1 839 84 view .LVU309
 840:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* output to IP */
 930              		.loc 1 840 92 view .LVU310
 842:Middlewares/Third_Party/LwIP/src/core/udp.c ****   err = ip_output_if_src(q, src_ip, dst_ip, ttl, pcb->tos, ip_proto, netif);
 931              		.loc 1 842 49 view .LVU311
 843:Middlewares/Third_Party/LwIP/src/core/udp.c ****   NETIF_SET_HWADDRHINT(netif, NULL);
 932              		.loc 1 843 3 view .LVU312
 843:Middlewares/Third_Party/LwIP/src/core/udp.c ****   NETIF_SET_HWADDRHINT(netif, NULL);
 933              		.loc 1 843 9 is_stmt 0 view .LVU313
 934 005e 0C9B     		ldr	r3, [sp, #48]
 935 0060 0293     		str	r3, [sp, #8]
 936              	.LVL107:
 843:Middlewares/Third_Party/LwIP/src/core/udp.c ****   NETIF_SET_HWADDRHINT(netif, NULL);
 937              		.loc 1 843 9 view .LVU314
 938 0062 1123     		movs	r3, #17
 939 0064 0193     		str	r3, [sp, #4]
 940 0066 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 941 0068 0093     		str	r3, [sp]
 942 006a A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 943 006c 4246     		mov	r2, r8
 944 006e 0D99     		ldr	r1, [sp, #52]
 945 0070 3046     		mov	r0, r6
 946 0072 FFF7FEFF 		bl	ip4_output_if_src
 947              	.LVL108:
 948 0076 0746     		mov	r7, r0
 949              	.LVL109:
 844:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 950              		.loc 1 844 36 is_stmt 1 view .LVU315
 847:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 951              		.loc 1 847 39 view .LVU316
 850:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* free the header pbuf */
 952              		.loc 1 850 3 view .LVU317
 850:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* free the header pbuf */
 953              		.loc 1 850 6 is_stmt 0 view .LVU318
 954 0078 AE42     		cmp	r6, r5
 955 007a 02D0     		beq	.L79
 852:Middlewares/Third_Party/LwIP/src/core/udp.c ****     q = NULL;
 956              		.loc 1 852 5 is_stmt 1 view .LVU319
 957 007c 3046     		mov	r0, r6
 958 007e FFF7FEFF 		bl	pbuf_free
 959              	.LVL110:
ARM GAS  /tmp/ccH8Bvzf.s 			page 38


 853:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* p is still referenced by the caller, and will live on */
 960              		.loc 1 853 5 view .LVU320
 961              	.L79:
 859:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 962              		.loc 1 859 1 is_stmt 0 view .LVU321
 963 0082 3846     		mov	r0, r7
 964 0084 05B0     		add	sp, sp, #20
 965              	.LCFI7:
 966              		.cfi_remember_state
 967              		.cfi_def_cfa_offset 28
 968              		@ sp needed
 969 0086 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 970              	.LVL111:
 971              	.L87:
 972              	.LCFI8:
 973              		.cfi_restore_state
 712:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* new header pbuf could not be allocated? */
 974              		.loc 1 712 5 is_stmt 1 view .LVU322
 712:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* new header pbuf could not be allocated? */
 975              		.loc 1 712 9 is_stmt 0 view .LVU323
 976 008a 0022     		movs	r2, #0
 977 008c 0821     		movs	r1, #8
 978 008e 0120     		movs	r0, #1
 979 0090 FFF7FEFF 		bl	pbuf_alloc
 980              	.LVL112:
 714:Middlewares/Third_Party/LwIP/src/core/udp.c ****       LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS, ("udp_send: could not alloca
 981              		.loc 1 714 5 is_stmt 1 view .LVU324
 714:Middlewares/Third_Party/LwIP/src/core/udp.c ****       LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS, ("udp_send: could not alloca
 982              		.loc 1 714 8 is_stmt 0 view .LVU325
 983 0094 0646     		mov	r6, r0
 984 0096 88B1     		cbz	r0, .L85
 718:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* chain header q in front of given pbuf p (only if p contains data) */
 985              		.loc 1 718 5 is_stmt 1 view .LVU326
 718:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* chain header q in front of given pbuf p (only if p contains data) */
 986              		.loc 1 718 10 is_stmt 0 view .LVU327
 987 0098 2B89     		ldrh	r3, [r5, #8]
 718:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* chain header q in front of given pbuf p (only if p contains data) */
 988              		.loc 1 718 8 view .LVU328
 989 009a 002B     		cmp	r3, #0
 990 009c CCD0     		beq	.L81
 720:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 991              		.loc 1 720 7 is_stmt 1 view .LVU329
 992 009e 2946     		mov	r1, r5
 993 00a0 FFF7FEFF 		bl	pbuf_chain
 994              	.LVL113:
 720:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 995              		.loc 1 720 7 is_stmt 0 view .LVU330
 996 00a4 C8E7     		b	.L81
 997              	.L88:
 731:Middlewares/Third_Party/LwIP/src/core/udp.c ****               (q->len >= sizeof(struct udp_hdr)));
 998              		.loc 1 731 3 is_stmt 1 discriminator 1 view .LVU331
 731:Middlewares/Third_Party/LwIP/src/core/udp.c ****               (q->len >= sizeof(struct udp_hdr)));
 999              		.loc 1 731 3 discriminator 1 view .LVU332
 1000 00a6 074B     		ldr	r3, .L89
 1001 00a8 4FF43772 		mov	r2, #732
 1002 00ac 0649     		ldr	r1, .L89+4
 1003 00ae 0748     		ldr	r0, .L89+8
ARM GAS  /tmp/ccH8Bvzf.s 			page 39


 1004 00b0 FFF7FEFF 		bl	printf
 1005              	.LVL114:
 1006 00b4 C3E7     		b	.L82
 1007              	.LVL115:
 1008              	.L83:
 683:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 1009              		.loc 1 683 12 is_stmt 0 view .LVU333
 1010 00b6 6FF00507 		mvn	r7, #5
 1011 00ba E2E7     		b	.L79
 1012              	.LVL116:
 1013              	.L85:
 716:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 1014              		.loc 1 716 14 view .LVU334
 1015 00bc 4FF0FF37 		mov	r7, #-1
 1016 00c0 DFE7     		b	.L79
 1017              	.L90:
 1018 00c2 00BF     		.align	2
 1019              	.L89:
 1020 00c4 00000000 		.word	.LC0
 1021 00c8 00000000 		.word	.LC3
 1022 00cc 40000000 		.word	.LC2
 1023              		.cfi_endproc
 1024              	.LFE167:
 1026              		.section	.text.udp_sendto_if,"ax",%progbits
 1027              		.align	1
 1028              		.global	udp_sendto_if
 1029              		.syntax unified
 1030              		.thumb
 1031              		.thumb_func
 1032              		.fpu fpv5-sp-d16
 1034              	udp_sendto_if:
 1035              	.LVL117:
 1036              	.LFB166:
 594:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 1037              		.loc 1 594 1 is_stmt 1 view -0
 1038              		.cfi_startproc
 1039              		@ args = 4, pretend = 0, frame = 0
 1040              		@ frame_needed = 0, uses_anonymous_args = 0
 594:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 1041              		.loc 1 594 1 is_stmt 0 view .LVU336
 1042 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1043              	.LCFI9:
 1044              		.cfi_def_cfa_offset 20
 1045              		.cfi_offset 4, -20
 1046              		.cfi_offset 5, -16
 1047              		.cfi_offset 6, -12
 1048              		.cfi_offset 7, -8
 1049              		.cfi_offset 14, -4
 1050 0002 83B0     		sub	sp, sp, #12
 1051              	.LCFI10:
 1052              		.cfi_def_cfa_offset 32
 1053 0004 089F     		ldr	r7, [sp, #32]
 606:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 1054              		.loc 1 606 3 is_stmt 1 view .LVU337
 608:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 1055              		.loc 1 608 3 view .LVU338
 608:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
ARM GAS  /tmp/ccH8Bvzf.s 			page 40


 1056              		.loc 1 608 12 is_stmt 0 view .LVU339
 1057 0006 0446     		mov	r4, r0
 608:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 1058              		.loc 1 608 32 view .LVU340
 1059 0008 1646     		mov	r6, r2
 1060 000a B2FA82F2 		clz	r2, r2
 1061              	.LVL118:
 608:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 1062              		.loc 1 608 32 view .LVU341
 1063 000e 5209     		lsrs	r2, r2, #5
 608:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 1064              		.loc 1 608 41 view .LVU342
 1065 0010 0028     		cmp	r0, #0
 1066 0012 14BF     		ite	ne
 1067 0014 1046     		movne	r0, r2
 1068 0016 0120     		moveq	r0, #1
 1069              	.LVL119:
 608:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 1070              		.loc 1 608 6 view .LVU343
 1071 0018 B0B9     		cbnz	r0, .L96
 635:Middlewares/Third_Party/LwIP/src/core/udp.c ****       ip4_addr_ismulticast(ip_2_ip4(&pcb->local_ip))) {
 1072              		.loc 1 635 3 is_stmt 1 view .LVU344
 635:Middlewares/Third_Party/LwIP/src/core/udp.c ****       ip4_addr_ismulticast(ip_2_ip4(&pcb->local_ip))) {
 1073              		.loc 1 635 7 is_stmt 0 view .LVU345
 1074 001a 2546     		mov	r5, r4
 635:Middlewares/Third_Party/LwIP/src/core/udp.c ****       ip4_addr_ismulticast(ip_2_ip4(&pcb->local_ip))) {
 1075              		.loc 1 635 6 view .LVU346
 1076 001c 5CB1     		cbz	r4, .L93
 635:Middlewares/Third_Party/LwIP/src/core/udp.c ****       ip4_addr_ismulticast(ip_2_ip4(&pcb->local_ip))) {
 1077              		.loc 1 635 7 discriminator 1 view .LVU347
 1078 001e 2268     		ldr	r2, [r4]
 1079 0020 4AB1     		cbz	r2, .L93
 636:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* if the local_ip is any or multicast
 1080              		.loc 1 636 7 discriminator 2 view .LVU348
 1081 0022 02F0F000 		and	r0, r2, #240
 635:Middlewares/Third_Party/LwIP/src/core/udp.c ****       ip4_addr_ismulticast(ip_2_ip4(&pcb->local_ip))) {
 1082              		.loc 1 635 48 discriminator 2 view .LVU349
 1083 0026 E028     		cmp	r0, #224
 1084 0028 05D0     		beq	.L93
 643:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* local_ip doesn't match, drop the packet */
 1085              		.loc 1 643 5 is_stmt 1 view .LVU350
 643:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* local_ip doesn't match, drop the packet */
 1086              		.loc 1 643 10 is_stmt 0 view .LVU351
 1087 002a 7868     		ldr	r0, [r7, #4]
 643:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* local_ip doesn't match, drop the packet */
 1088              		.loc 1 643 8 view .LVU352
 1089 002c 8242     		cmp	r2, r0
 1090 002e 03D0     		beq	.L95
 645:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 1091              		.loc 1 645 14 view .LVU353
 1092 0030 6FF00300 		mvn	r0, #3
 1093 0034 06E0     		b	.L92
 1094              	.L93:
 639:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else {
 1095              		.loc 1 639 5 is_stmt 1 view .LVU354
 639:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else {
 1096              		.loc 1 639 12 is_stmt 0 view .LVU355
ARM GAS  /tmp/ccH8Bvzf.s 			page 41


 1097 0036 3D1D     		adds	r5, r7, #4
 1098              	.LVL120:
 1099              	.L95:
 639:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else {
 1100              		.loc 1 639 12 view .LVU356
 1101 0038 3246     		mov	r2, r6
 1102 003a 2046     		mov	r0, r4
 1103              	.LVL121:
 654:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 1104              		.loc 1 654 3 is_stmt 1 view .LVU357
 654:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 1105              		.loc 1 654 10 is_stmt 0 view .LVU358
 1106 003c 0195     		str	r5, [sp, #4]
 1107 003e 0097     		str	r7, [sp]
 1108 0040 FFF7FEFF 		bl	udp_sendto_if_src
 1109              	.LVL122:
 1110              	.L92:
 656:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 1111              		.loc 1 656 1 view .LVU359
 1112 0044 03B0     		add	sp, sp, #12
 1113              	.LCFI11:
 1114              		.cfi_remember_state
 1115              		.cfi_def_cfa_offset 20
 1116              		@ sp needed
 1117 0046 F0BD     		pop	{r4, r5, r6, r7, pc}
 1118              	.LVL123:
 1119              	.L96:
 1120              	.LCFI12:
 1121              		.cfi_restore_state
 609:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 1122              		.loc 1 609 12 view .LVU360
 1123 0048 6FF00500 		mvn	r0, #5
 1124 004c FAE7     		b	.L92
 1125              		.cfi_endproc
 1126              	.LFE166:
 1128              		.section	.text.udp_sendto,"ax",%progbits
 1129              		.align	1
 1130              		.global	udp_sendto
 1131              		.syntax unified
 1132              		.thumb
 1133              		.thumb_func
 1134              		.fpu fpv5-sp-d16
 1136              	udp_sendto:
 1137              	.LVL124:
 1138              	.LFB165:
 504:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 1139              		.loc 1 504 1 is_stmt 1 view -0
 1140              		.cfi_startproc
 1141              		@ args = 0, pretend = 0, frame = 0
 1142              		@ frame_needed = 0, uses_anonymous_args = 0
 504:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP
 1143              		.loc 1 504 1 is_stmt 0 view .LVU362
 1144 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1145              	.LCFI13:
 1146              		.cfi_def_cfa_offset 20
 1147              		.cfi_offset 4, -20
 1148              		.cfi_offset 5, -16
ARM GAS  /tmp/ccH8Bvzf.s 			page 42


 1149              		.cfi_offset 6, -12
 1150              		.cfi_offset 7, -8
 1151              		.cfi_offset 14, -4
 1152 0002 83B0     		sub	sp, sp, #12
 1153              	.LCFI14:
 1154              		.cfi_def_cfa_offset 32
 516:Middlewares/Third_Party/LwIP/src/core/udp.c ****   const ip_addr_t *dst_ip_route = dst_ip;
 1155              		.loc 1 516 3 is_stmt 1 view .LVU363
 517:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 1156              		.loc 1 517 3 view .LVU364
 1157              	.LVL125:
 519:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 1158              		.loc 1 519 3 view .LVU365
 519:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 1159              		.loc 1 519 32 is_stmt 0 view .LVU366
 1160 0004 B2FA82F4 		clz	r4, r2
 1161 0008 6409     		lsrs	r4, r4, #5
 519:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 1162              		.loc 1 519 41 view .LVU367
 1163 000a 0028     		cmp	r0, #0
 1164 000c 08BF     		it	eq
 1165 000e 0124     		moveq	r4, #1
 519:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 1166              		.loc 1 519 6 view .LVU368
 1167 0010 84B9     		cbnz	r4, .L101
 1168 0012 0646     		mov	r6, r0
 1169 0014 1546     		mov	r5, r2
 1170 0016 1F46     		mov	r7, r3
 1171 0018 0C46     		mov	r4, r1
 523:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 1172              		.loc 1 523 58 is_stmt 1 view .LVU369
 549:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* Don't call ip_route() with IP_ANY_TYPE */
 1173              		.loc 1 549 3 view .LVU370
 553:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 1174              		.loc 1 553 5 view .LVU371
 553:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 1175              		.loc 1 553 13 is_stmt 0 view .LVU372
 1176 001a 1046     		mov	r0, r2
 1177              	.LVL126:
 553:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 1178              		.loc 1 553 13 view .LVU373
 1179 001c FFF7FEFF 		bl	ip4_route
 1180              	.LVL127:
 557:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("udp_send: No route to "));
 1181              		.loc 1 557 3 is_stmt 1 view .LVU374
 557:Middlewares/Third_Party/LwIP/src/core/udp.c ****     LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("udp_send: No route to "));
 1182              		.loc 1 557 6 is_stmt 0 view .LVU375
 1183 0020 58B1     		cbz	r0, .L102
 567:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 1184              		.loc 1 567 3 is_stmt 1 view .LVU376
 567:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 1185              		.loc 1 567 10 is_stmt 0 view .LVU377
 1186 0022 0090     		str	r0, [sp]
 1187 0024 3B46     		mov	r3, r7
 1188 0026 2A46     		mov	r2, r5
 1189 0028 2146     		mov	r1, r4
 1190 002a 3046     		mov	r0, r6
ARM GAS  /tmp/ccH8Bvzf.s 			page 43


 1191              	.LVL128:
 567:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_CHECKSUM_ON_COPY && CHECKSUM_GEN_UDP */
 1192              		.loc 1 567 10 view .LVU378
 1193 002c FFF7FEFF 		bl	udp_sendto_if
 1194              	.LVL129:
 1195              	.L100:
 569:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 1196              		.loc 1 569 1 view .LVU379
 1197 0030 03B0     		add	sp, sp, #12
 1198              	.LCFI15:
 1199              		.cfi_remember_state
 1200              		.cfi_def_cfa_offset 20
 1201              		@ sp needed
 1202 0032 F0BD     		pop	{r4, r5, r6, r7, pc}
 1203              	.LVL130:
 1204              	.L101:
 1205              	.LCFI16:
 1206              		.cfi_restore_state
 520:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 1207              		.loc 1 520 12 view .LVU380
 1208 0034 6FF00500 		mvn	r0, #5
 1209              	.LVL131:
 520:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 1210              		.loc 1 520 12 view .LVU381
 1211 0038 FAE7     		b	.L100
 1212              	.LVL132:
 1213              	.L102:
 562:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 1214              		.loc 1 562 12 view .LVU382
 1215 003a 6FF00300 		mvn	r0, #3
 1216              	.LVL133:
 562:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 1217              		.loc 1 562 12 view .LVU383
 1218 003e F7E7     		b	.L100
 1219              		.cfi_endproc
 1220              	.LFE165:
 1222              		.section	.text.udp_send,"ax",%progbits
 1223              		.align	1
 1224              		.global	udp_send
 1225              		.syntax unified
 1226              		.thumb
 1227              		.thumb_func
 1228              		.fpu fpv5-sp-d16
 1230              	udp_send:
 1231              	.LVL134:
 1232              	.LFB164:
 456:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if ((pcb == NULL) || IP_IS_ANY_TYPE_VAL(pcb->remote_ip)) {
 1233              		.loc 1 456 1 is_stmt 1 view -0
 1234              		.cfi_startproc
 1235              		@ args = 0, pretend = 0, frame = 0
 1236              		@ frame_needed = 0, uses_anonymous_args = 0
 457:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 1237              		.loc 1 457 3 view .LVU385
 457:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 1238              		.loc 1 457 6 is_stmt 0 view .LVU386
 1239 0000 28B1     		cbz	r0, .L106
 456:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if ((pcb == NULL) || IP_IS_ANY_TYPE_VAL(pcb->remote_ip)) {
ARM GAS  /tmp/ccH8Bvzf.s 			page 44


 1240              		.loc 1 456 1 view .LVU387
 1241 0002 08B5     		push	{r3, lr}
 1242              	.LCFI17:
 1243              		.cfi_def_cfa_offset 8
 1244              		.cfi_offset 3, -8
 1245              		.cfi_offset 14, -4
 462:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 1246              		.loc 1 462 3 is_stmt 1 view .LVU388
 462:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 1247              		.loc 1 462 10 is_stmt 0 view .LVU389
 1248 0004 838A     		ldrh	r3, [r0, #20]
 1249 0006 021D     		adds	r2, r0, #4
 1250 0008 FFF7FEFF 		bl	udp_sendto
 1251              	.LVL135:
 463:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 1252              		.loc 1 463 1 view .LVU390
 1253 000c 08BD     		pop	{r3, pc}
 1254              	.LVL136:
 1255              	.L106:
 1256              	.LCFI18:
 1257              		.cfi_def_cfa_offset 0
 1258              		.cfi_restore 3
 1259              		.cfi_restore 14
 458:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 1260              		.loc 1 458 12 view .LVU391
 1261 000e 6FF00500 		mvn	r0, #5
 1262              	.LVL137:
 463:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 1263              		.loc 1 463 1 view .LVU392
 1264 0012 7047     		bx	lr
 1265              		.cfi_endproc
 1266              	.LFE164:
 1268              		.section	.text.udp_connect,"ax",%progbits
 1269              		.align	1
 1270              		.global	udp_connect
 1271              		.syntax unified
 1272              		.thumb
 1273              		.thumb_func
 1274              		.fpu fpv5-sp-d16
 1276              	udp_connect:
 1277              	.LVL138:
 1278              	.LFB169:
 961:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 962:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
 963:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @ingroup udp_raw
 964:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Connect an UDP PCB.
 965:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 966:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * This will associate the UDP PCB with the remote address.
 967:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 968:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param pcb UDP PCB to be connected with remote address ipaddr and port.
 969:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param ipaddr remote IP address to connect with.
 970:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param port remote UDP port to connect with.
 971:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 972:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @return lwIP error code
 973:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 974:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * ipaddr & port are expected to be in the same byte order as in the pcb.
 975:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
ARM GAS  /tmp/ccH8Bvzf.s 			page 45


 976:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * The udp pcb is bound to a random local port if not already bound.
 977:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
 978:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @see udp_disconnect()
 979:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
 980:Middlewares/Third_Party/LwIP/src/core/udp.c **** err_t
 981:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_connect(struct udp_pcb *pcb, const ip_addr_t *ipaddr, u16_t port)
 982:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 1279              		.loc 1 982 1 is_stmt 1 view -0
 1280              		.cfi_startproc
 1281              		@ args = 0, pretend = 0, frame = 0
 1282              		@ frame_needed = 0, uses_anonymous_args = 0
 1283              		.loc 1 982 1 is_stmt 0 view .LVU394
 1284 0000 70B5     		push	{r4, r5, r6, lr}
 1285              	.LCFI19:
 1286              		.cfi_def_cfa_offset 16
 1287              		.cfi_offset 4, -16
 1288              		.cfi_offset 5, -12
 1289              		.cfi_offset 6, -8
 1290              		.cfi_offset 14, -4
 983:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_pcb *ipcb;
 1291              		.loc 1 983 3 is_stmt 1 view .LVU395
 984:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 985:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if ((pcb == NULL) || (ipaddr == NULL)) {
 1292              		.loc 1 985 3 view .LVU396
 1293              		.loc 1 985 32 is_stmt 0 view .LVU397
 1294 0002 0D46     		mov	r5, r1
 1295 0004 B1FA81F1 		clz	r1, r1
 1296              	.LVL139:
 1297              		.loc 1 985 32 view .LVU398
 1298 0008 4909     		lsrs	r1, r1, #5
 1299              		.loc 1 985 21 view .LVU399
 1300 000a 0028     		cmp	r0, #0
 1301 000c 08BF     		it	eq
 1302 000e 0121     		moveq	r1, #1
 1303              		.loc 1 985 6 view .LVU400
 1304 0010 11BB     		cbnz	r1, .L117
 1305 0012 0446     		mov	r4, r0
 1306 0014 1646     		mov	r6, r2
 986:Middlewares/Third_Party/LwIP/src/core/udp.c ****     return ERR_VAL;
 987:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 988:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 989:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (pcb->local_port == 0) {
 1307              		.loc 1 989 3 is_stmt 1 view .LVU401
 1308              		.loc 1 989 10 is_stmt 0 view .LVU402
 1309 0016 428A     		ldrh	r2, [r0, #18]
 1310              	.LVL140:
 1311              		.loc 1 989 6 view .LVU403
 1312 0018 7AB1     		cbz	r2, .L121
 1313              	.LVL141:
 1314              	.L113:
 990:Middlewares/Third_Party/LwIP/src/core/udp.c ****     err_t err = udp_bind(pcb, &pcb->local_ip, pcb->local_port);
 991:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (err != ERR_OK) {
 992:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return err;
 993:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 994:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 995:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
 996:Middlewares/Third_Party/LwIP/src/core/udp.c ****   ip_addr_set_ipaddr(&pcb->remote_ip, ipaddr);
ARM GAS  /tmp/ccH8Bvzf.s 			page 46


 1315              		.loc 1 996 3 is_stmt 1 view .LVU404
 1316 001a ADB1     		cbz	r5, .L118
 1317              		.loc 1 996 3 is_stmt 0 discriminator 1 view .LVU405
 1318 001c 2B68     		ldr	r3, [r5]
 1319              	.L114:
 1320              		.loc 1 996 3 discriminator 4 view .LVU406
 1321 001e 6360     		str	r3, [r4, #4]
 997:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb->remote_port = port;
 1322              		.loc 1 997 3 is_stmt 1 discriminator 4 view .LVU407
 1323              		.loc 1 997 20 is_stmt 0 discriminator 4 view .LVU408
 1324 0020 A682     		strh	r6, [r4, #20]	@ movhi
 998:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb->flags |= UDP_FLAGS_CONNECTED;
 1325              		.loc 1 998 3 is_stmt 1 discriminator 4 view .LVU409
 1326              		.loc 1 998 14 is_stmt 0 discriminator 4 view .LVU410
 1327 0022 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 1328 0024 43F00403 		orr	r3, r3, #4
 1329 0028 2374     		strb	r3, [r4, #16]
 999:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
1000:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_STATE, ("udp_connect: connected to "));
 1330              		.loc 1 1000 91 is_stmt 1 discriminator 4 view .LVU411
1001:Middlewares/Third_Party/LwIP/src/core/udp.c ****   ip_addr_debug_print(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_STATE,
1002:Middlewares/Third_Party/LwIP/src/core/udp.c ****                       &pcb->remote_ip);
 1331              		.loc 1 1002 39 discriminator 4 view .LVU412
1003:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_DEBUGF(UDP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_STATE, (", port %"U16_F")\n", pcb->remote_port)
 1332              		.loc 1 1003 101 discriminator 4 view .LVU413
1004:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
1005:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* Insert UDP PCB into the list of active UDP PCBs. */
1006:Middlewares/Third_Party/LwIP/src/core/udp.c ****   for (ipcb = udp_pcbs; ipcb != NULL; ipcb = ipcb->next) {
 1333              		.loc 1 1006 3 discriminator 4 view .LVU414
 1334              		.loc 1 1006 13 is_stmt 0 discriminator 4 view .LVU415
 1335 002a 0E4B     		ldr	r3, .L123
 1336 002c 1A68     		ldr	r2, [r3]
 1337              	.LVL142:
 1338              		.loc 1 1006 13 discriminator 4 view .LVU416
 1339 002e 1346     		mov	r3, r2
 1340              	.LVL143:
 1341              	.L115:
 1342              		.loc 1 1006 3 discriminator 1 view .LVU417
 1343 0030 63B1     		cbz	r3, .L122
1007:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (pcb == ipcb) {
 1344              		.loc 1 1007 5 is_stmt 1 view .LVU418
 1345              		.loc 1 1007 8 is_stmt 0 view .LVU419
 1346 0032 A342     		cmp	r3, r4
 1347 0034 13D0     		beq	.L119
1006:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (pcb == ipcb) {
 1348              		.loc 1 1006 44 discriminator 2 view .LVU420
 1349 0036 DB68     		ldr	r3, [r3, #12]
 1350              	.LVL144:
1006:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (pcb == ipcb) {
 1351              		.loc 1 1006 44 discriminator 2 view .LVU421
 1352 0038 FAE7     		b	.L115
 1353              	.LVL145:
 1354              	.L121:
 1355              	.LBB2:
 990:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (err != ERR_OK) {
 1356              		.loc 1 990 5 is_stmt 1 view .LVU422
 990:Middlewares/Third_Party/LwIP/src/core/udp.c ****     if (err != ERR_OK) {
ARM GAS  /tmp/ccH8Bvzf.s 			page 47


 1357              		.loc 1 990 17 is_stmt 0 view .LVU423
 1358 003a 0146     		mov	r1, r0
 1359 003c FFF7FEFF 		bl	udp_bind
 1360              	.LVL146:
 991:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return err;
 1361              		.loc 1 991 5 is_stmt 1 view .LVU424
 991:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return err;
 1362              		.loc 1 991 8 is_stmt 0 view .LVU425
 1363 0040 0346     		mov	r3, r0
 1364 0042 0028     		cmp	r0, #0
 1365 0044 E9D0     		beq	.L113
 1366 0046 05E0     		b	.L112
 1367              	.LVL147:
 1368              	.L118:
 991:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return err;
 1369              		.loc 1 991 8 view .LVU426
 1370              	.LBE2:
 996:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb->remote_port = port;
 1371              		.loc 1 996 3 view .LVU427
 1372 0048 0023     		movs	r3, #0
 1373 004a E8E7     		b	.L114
 1374              	.LVL148:
 1375              	.L122:
1008:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* already on the list, just return */
1009:Middlewares/Third_Party/LwIP/src/core/udp.c ****       return ERR_OK;
1010:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
1011:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
1012:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* PCB not yet on the list, add PCB now */
1013:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb->next = udp_pcbs;
 1376              		.loc 1 1013 3 is_stmt 1 view .LVU428
 1377              		.loc 1 1013 13 is_stmt 0 view .LVU429
 1378 004c E260     		str	r2, [r4, #12]
1014:Middlewares/Third_Party/LwIP/src/core/udp.c ****   udp_pcbs = pcb;
 1379              		.loc 1 1014 3 is_stmt 1 view .LVU430
 1380              		.loc 1 1014 12 is_stmt 0 view .LVU431
 1381 004e 054B     		ldr	r3, .L123
 1382              	.LVL149:
 1383              		.loc 1 1014 12 view .LVU432
 1384 0050 1C60     		str	r4, [r3]
1015:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return ERR_OK;
 1385              		.loc 1 1015 3 is_stmt 1 view .LVU433
 1386              		.loc 1 1015 10 is_stmt 0 view .LVU434
 1387 0052 0023     		movs	r3, #0
 1388              	.LVL150:
 1389              	.L112:
1016:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 1390              		.loc 1 1016 1 view .LVU435
 1391 0054 1846     		mov	r0, r3
 1392 0056 70BD     		pop	{r4, r5, r6, pc}
 1393              	.LVL151:
 1394              	.L117:
 986:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
 1395              		.loc 1 986 12 view .LVU436
 1396 0058 6FF00503 		mvn	r3, #5
 1397 005c FAE7     		b	.L112
 1398              	.LVL152:
 1399              	.L119:
ARM GAS  /tmp/ccH8Bvzf.s 			page 48


1009:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 1400              		.loc 1 1009 14 view .LVU437
 1401 005e 0023     		movs	r3, #0
 1402              	.LVL153:
1009:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
 1403              		.loc 1 1009 14 view .LVU438
 1404 0060 F8E7     		b	.L112
 1405              	.L124:
 1406 0062 00BF     		.align	2
 1407              	.L123:
 1408 0064 00000000 		.word	udp_pcbs
 1409              		.cfi_endproc
 1410              	.LFE169:
 1412              		.section	.text.udp_disconnect,"ax",%progbits
 1413              		.align	1
 1414              		.global	udp_disconnect
 1415              		.syntax unified
 1416              		.thumb
 1417              		.thumb_func
 1418              		.fpu fpv5-sp-d16
 1420              	udp_disconnect:
 1421              	.LVL154:
 1422              	.LFB170:
1017:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
1018:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
1019:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @ingroup udp_raw
1020:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Disconnect a UDP PCB
1021:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
1022:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param pcb the udp pcb to disconnect.
1023:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
1024:Middlewares/Third_Party/LwIP/src/core/udp.c **** void
1025:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_disconnect(struct udp_pcb *pcb)
1026:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 1423              		.loc 1 1026 1 is_stmt 1 view -0
 1424              		.cfi_startproc
 1425              		@ args = 0, pretend = 0, frame = 0
 1426              		@ frame_needed = 0, uses_anonymous_args = 0
 1427              		@ link register save eliminated.
1027:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* reset remote address association */
1028:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV4 && LWIP_IPV6
1029:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (IP_IS_ANY_TYPE_VAL(pcb->local_ip)) {
1030:Middlewares/Third_Party/LwIP/src/core/udp.c ****     ip_addr_copy(pcb->remote_ip, *IP_ANY_TYPE);
1031:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else {
1032:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif
1033:Middlewares/Third_Party/LwIP/src/core/udp.c ****     ip_addr_set_any(IP_IS_V6_VAL(pcb->remote_ip), &pcb->remote_ip);
 1428              		.loc 1 1033 5 view .LVU440
 1429 0000 0023     		movs	r3, #0
 1430 0002 4360     		str	r3, [r0, #4]
1034:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV4 && LWIP_IPV6
1035:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
1036:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif
1037:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb->remote_port = 0;
 1431              		.loc 1 1037 3 view .LVU441
 1432              		.loc 1 1037 20 is_stmt 0 view .LVU442
 1433 0004 8382     		strh	r3, [r0, #20]	@ movhi
1038:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* mark PCB as unconnected */
1039:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb->flags &= ~UDP_FLAGS_CONNECTED;
ARM GAS  /tmp/ccH8Bvzf.s 			page 49


 1434              		.loc 1 1039 3 is_stmt 1 view .LVU443
 1435              		.loc 1 1039 14 is_stmt 0 view .LVU444
 1436 0006 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 1437 0008 23F00403 		bic	r3, r3, #4
 1438 000c 0374     		strb	r3, [r0, #16]
1040:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 1439              		.loc 1 1040 1 view .LVU445
 1440 000e 7047     		bx	lr
 1441              		.cfi_endproc
 1442              	.LFE170:
 1444              		.section	.text.udp_recv,"ax",%progbits
 1445              		.align	1
 1446              		.global	udp_recv
 1447              		.syntax unified
 1448              		.thumb
 1449              		.thumb_func
 1450              		.fpu fpv5-sp-d16
 1452              	udp_recv:
 1453              	.LVL155:
 1454              	.LFB171:
1041:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
1042:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
1043:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @ingroup udp_raw
1044:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Set a receive callback for a UDP PCB
1045:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
1046:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * This callback will be called when receiving a datagram for the pcb.
1047:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
1048:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param pcb the pcb for which to set the recv callback
1049:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param recv function pointer of the callback function
1050:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param recv_arg additional argument to pass to the callback function
1051:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
1052:Middlewares/Third_Party/LwIP/src/core/udp.c **** void
1053:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_recv(struct udp_pcb *pcb, udp_recv_fn recv, void *recv_arg)
1054:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 1455              		.loc 1 1054 1 is_stmt 1 view -0
 1456              		.cfi_startproc
 1457              		@ args = 0, pretend = 0, frame = 0
 1458              		@ frame_needed = 0, uses_anonymous_args = 0
 1459              		@ link register save eliminated.
1055:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* remember recv() callback and user data */
1056:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb->recv = recv;
 1460              		.loc 1 1056 3 view .LVU447
 1461              		.loc 1 1056 13 is_stmt 0 view .LVU448
 1462 0000 8161     		str	r1, [r0, #24]
1057:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb->recv_arg = recv_arg;
 1463              		.loc 1 1057 3 is_stmt 1 view .LVU449
 1464              		.loc 1 1057 17 is_stmt 0 view .LVU450
 1465 0002 C261     		str	r2, [r0, #28]
1058:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 1466              		.loc 1 1058 1 view .LVU451
 1467 0004 7047     		bx	lr
 1468              		.cfi_endproc
 1469              	.LFE171:
 1471              		.section	.text.udp_remove,"ax",%progbits
 1472              		.align	1
 1473              		.global	udp_remove
 1474              		.syntax unified
ARM GAS  /tmp/ccH8Bvzf.s 			page 50


 1475              		.thumb
 1476              		.thumb_func
 1477              		.fpu fpv5-sp-d16
 1479              	udp_remove:
 1480              	.LVL156:
 1481              	.LFB172:
1059:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
1060:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
1061:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @ingroup udp_raw
1062:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Remove an UDP PCB.
1063:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
1064:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param pcb UDP PCB to be removed. The PCB is removed from the list of
1065:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * UDP PCB's and the data structure is freed from memory.
1066:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
1067:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @see udp_new()
1068:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
1069:Middlewares/Third_Party/LwIP/src/core/udp.c **** void
1070:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_remove(struct udp_pcb *pcb)
1071:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 1482              		.loc 1 1071 1 is_stmt 1 view -0
 1483              		.cfi_startproc
 1484              		@ args = 0, pretend = 0, frame = 0
 1485              		@ frame_needed = 0, uses_anonymous_args = 0
 1486              		.loc 1 1071 1 is_stmt 0 view .LVU453
 1487 0000 08B5     		push	{r3, lr}
 1488              	.LCFI20:
 1489              		.cfi_def_cfa_offset 8
 1490              		.cfi_offset 3, -8
 1491              		.cfi_offset 14, -4
 1492 0002 0146     		mov	r1, r0
1072:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_pcb *pcb2;
 1493              		.loc 1 1072 3 is_stmt 1 view .LVU454
1073:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
1074:Middlewares/Third_Party/LwIP/src/core/udp.c ****   mib2_udp_unbind(pcb);
 1494              		.loc 1 1074 23 view .LVU455
1075:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* pcb to be removed is first in list? */
1076:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (udp_pcbs == pcb) {
 1495              		.loc 1 1076 3 view .LVU456
 1496              		.loc 1 1076 16 is_stmt 0 view .LVU457
 1497 0004 0B4B     		ldr	r3, .L135
 1498 0006 1A68     		ldr	r2, [r3]
 1499              		.loc 1 1076 6 view .LVU458
 1500 0008 8242     		cmp	r2, r0
 1501 000a 09D1     		bne	.L128
1077:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* make list start at 2nd pcb */
1078:Middlewares/Third_Party/LwIP/src/core/udp.c ****     udp_pcbs = udp_pcbs->next;
 1502              		.loc 1 1078 5 is_stmt 1 view .LVU459
 1503              		.loc 1 1078 24 is_stmt 0 view .LVU460
 1504 000c D268     		ldr	r2, [r2, #12]
 1505              		.loc 1 1078 14 view .LVU461
 1506 000e 1A60     		str	r2, [r3]
 1507              	.L129:
1079:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* pcb not 1st in list */
1080:Middlewares/Third_Party/LwIP/src/core/udp.c ****   } else {
1081:Middlewares/Third_Party/LwIP/src/core/udp.c ****     for (pcb2 = udp_pcbs; pcb2 != NULL; pcb2 = pcb2->next) {
1082:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* find pcb in udp_pcbs list */
1083:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (pcb2->next != NULL && pcb2->next == pcb) {
ARM GAS  /tmp/ccH8Bvzf.s 			page 51


1084:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* remove pcb from list */
1085:Middlewares/Third_Party/LwIP/src/core/udp.c ****         pcb2->next = pcb->next;
1086:Middlewares/Third_Party/LwIP/src/core/udp.c ****         break;
1087:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
1088:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
1089:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
1090:Middlewares/Third_Party/LwIP/src/core/udp.c ****   memp_free(MEMP_UDP_PCB, pcb);
 1508              		.loc 1 1090 3 is_stmt 1 view .LVU462
 1509 0010 0020     		movs	r0, #0
 1510              	.LVL157:
 1511              		.loc 1 1090 3 is_stmt 0 view .LVU463
 1512 0012 FFF7FEFF 		bl	memp_free
 1513              	.LVL158:
1091:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 1514              		.loc 1 1091 1 view .LVU464
 1515 0016 08BD     		pop	{r3, pc}
 1516              	.LVL159:
 1517              	.L134:
1085:Middlewares/Third_Party/LwIP/src/core/udp.c ****         break;
 1518              		.loc 1 1085 9 is_stmt 1 view .LVU465
1085:Middlewares/Third_Party/LwIP/src/core/udp.c ****         break;
 1519              		.loc 1 1085 25 is_stmt 0 view .LVU466
 1520 0018 CB68     		ldr	r3, [r1, #12]
1085:Middlewares/Third_Party/LwIP/src/core/udp.c ****         break;
 1521              		.loc 1 1085 20 view .LVU467
 1522 001a D360     		str	r3, [r2, #12]
1086:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 1523              		.loc 1 1086 9 is_stmt 1 view .LVU468
 1524 001c F8E7     		b	.L129
 1525              	.L131:
1086:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
 1526              		.loc 1 1086 9 is_stmt 0 view .LVU469
 1527 001e 1A46     		mov	r2, r3
 1528              	.LVL160:
 1529              	.L128:
1081:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* find pcb in udp_pcbs list */
 1530              		.loc 1 1081 5 discriminator 1 view .LVU470
 1531 0020 002A     		cmp	r2, #0
 1532 0022 F5D0     		beq	.L129
1083:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* remove pcb from list */
 1533              		.loc 1 1083 7 is_stmt 1 view .LVU471
1083:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* remove pcb from list */
 1534              		.loc 1 1083 15 is_stmt 0 view .LVU472
 1535 0024 D368     		ldr	r3, [r2, #12]
1083:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* remove pcb from list */
 1536              		.loc 1 1083 10 view .LVU473
 1537 0026 002B     		cmp	r3, #0
 1538 0028 F9D0     		beq	.L131
1083:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* remove pcb from list */
 1539              		.loc 1 1083 30 discriminator 1 view .LVU474
 1540 002a 8B42     		cmp	r3, r1
 1541 002c F4D0     		beq	.L134
 1542 002e 1A46     		mov	r2, r3
 1543              	.LVL161:
1083:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* remove pcb from list */
 1544              		.loc 1 1083 30 discriminator 1 view .LVU475
 1545 0030 F6E7     		b	.L128
ARM GAS  /tmp/ccH8Bvzf.s 			page 52


 1546              	.L136:
 1547 0032 00BF     		.align	2
 1548              	.L135:
 1549 0034 00000000 		.word	udp_pcbs
 1550              		.cfi_endproc
 1551              	.LFE172:
 1553              		.section	.text.udp_new,"ax",%progbits
 1554              		.align	1
 1555              		.global	udp_new
 1556              		.syntax unified
 1557              		.thumb
 1558              		.thumb_func
 1559              		.fpu fpv5-sp-d16
 1561              	udp_new:
 1562              	.LFB173:
1092:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
1093:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
1094:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @ingroup udp_raw
1095:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Create a UDP PCB.
1096:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
1097:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @return The UDP PCB which was created. NULL if the PCB data structure
1098:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * could not be allocated.
1099:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
1100:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @see udp_remove()
1101:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
1102:Middlewares/Third_Party/LwIP/src/core/udp.c **** struct udp_pcb *
1103:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_new(void)
1104:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 1563              		.loc 1 1104 1 is_stmt 1 view -0
 1564              		.cfi_startproc
 1565              		@ args = 0, pretend = 0, frame = 0
 1566              		@ frame_needed = 0, uses_anonymous_args = 0
 1567 0000 10B5     		push	{r4, lr}
 1568              	.LCFI21:
 1569              		.cfi_def_cfa_offset 8
 1570              		.cfi_offset 4, -8
 1571              		.cfi_offset 14, -4
1105:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_pcb *pcb;
 1572              		.loc 1 1105 3 view .LVU477
1106:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb = (struct udp_pcb *)memp_malloc(MEMP_UDP_PCB);
 1573              		.loc 1 1106 3 view .LVU478
 1574              		.loc 1 1106 27 is_stmt 0 view .LVU479
 1575 0002 0020     		movs	r0, #0
 1576 0004 FFF7FEFF 		bl	memp_malloc
 1577              	.LVL162:
1107:Middlewares/Third_Party/LwIP/src/core/udp.c ****   /* could allocate UDP PCB? */
1108:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (pcb != NULL) {
 1578              		.loc 1 1108 3 is_stmt 1 view .LVU480
 1579              		.loc 1 1108 6 is_stmt 0 view .LVU481
 1580 0008 0446     		mov	r4, r0
 1581 000a 28B1     		cbz	r0, .L137
1109:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* UDP Lite: by initializing to all zeroes, chksum_len is set to 0
1110:Middlewares/Third_Party/LwIP/src/core/udp.c ****      * which means checksum is generated over the whole datagram per default
1111:Middlewares/Third_Party/LwIP/src/core/udp.c ****      * (recommended as default by RFC 3828). */
1112:Middlewares/Third_Party/LwIP/src/core/udp.c ****     /* initialize PCB to all zeroes */
1113:Middlewares/Third_Party/LwIP/src/core/udp.c ****     memset(pcb, 0, sizeof(struct udp_pcb));
 1582              		.loc 1 1113 5 is_stmt 1 view .LVU482
ARM GAS  /tmp/ccH8Bvzf.s 			page 53


 1583 000c 2022     		movs	r2, #32
 1584 000e 0021     		movs	r1, #0
 1585 0010 FFF7FEFF 		bl	memset
 1586              	.LVL163:
1114:Middlewares/Third_Party/LwIP/src/core/udp.c ****     pcb->ttl = UDP_TTL;
 1587              		.loc 1 1114 5 view .LVU483
 1588              		.loc 1 1114 14 is_stmt 0 view .LVU484
 1589 0014 FF23     		movs	r3, #255
 1590 0016 A372     		strb	r3, [r4, #10]
1115:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_MULTICAST_TX_OPTIONS
1116:Middlewares/Third_Party/LwIP/src/core/udp.c ****     udp_set_multicast_ttl(pcb, UDP_TTL);
1117:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
1118:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
1119:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return pcb;
 1591              		.loc 1 1119 3 is_stmt 1 view .LVU485
 1592              	.L137:
1120:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 1593              		.loc 1 1120 1 is_stmt 0 view .LVU486
 1594 0018 2046     		mov	r0, r4
 1595 001a 10BD     		pop	{r4, pc}
 1596              		.loc 1 1120 1 view .LVU487
 1597              		.cfi_endproc
 1598              	.LFE173:
 1600              		.section	.text.udp_new_ip_type,"ax",%progbits
 1601              		.align	1
 1602              		.global	udp_new_ip_type
 1603              		.syntax unified
 1604              		.thumb
 1605              		.thumb_func
 1606              		.fpu fpv5-sp-d16
 1608              	udp_new_ip_type:
 1609              	.LVL164:
 1610              	.LFB174:
1121:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
1122:Middlewares/Third_Party/LwIP/src/core/udp.c **** /**
1123:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @ingroup udp_raw
1124:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * Create a UDP PCB for specific IP type.
1125:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
1126:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param type IP address type, see @ref lwip_ip_addr_type definitions.
1127:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * If you want to listen to IPv4 and IPv6 (dual-stack) packets,
1128:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * supply @ref IPADDR_TYPE_ANY as argument and bind to @ref IP_ANY_TYPE.
1129:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @return The UDP PCB which was created. NULL if the PCB data structure
1130:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * could not be allocated.
1131:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
1132:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @see udp_remove()
1133:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
1134:Middlewares/Third_Party/LwIP/src/core/udp.c **** struct udp_pcb *
1135:Middlewares/Third_Party/LwIP/src/core/udp.c **** udp_new_ip_type(u8_t type)
1136:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 1611              		.loc 1 1136 1 is_stmt 1 view -0
 1612              		.cfi_startproc
 1613              		@ args = 0, pretend = 0, frame = 0
 1614              		@ frame_needed = 0, uses_anonymous_args = 0
 1615              		.loc 1 1136 1 is_stmt 0 view .LVU489
 1616 0000 08B5     		push	{r3, lr}
 1617              	.LCFI22:
 1618              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccH8Bvzf.s 			page 54


 1619              		.cfi_offset 3, -8
 1620              		.cfi_offset 14, -4
1137:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_pcb *pcb;
 1621              		.loc 1 1137 3 is_stmt 1 view .LVU490
1138:Middlewares/Third_Party/LwIP/src/core/udp.c ****   pcb = udp_new();
 1622              		.loc 1 1138 3 view .LVU491
 1623              		.loc 1 1138 9 is_stmt 0 view .LVU492
 1624 0002 FFF7FEFF 		bl	udp_new
 1625              	.LVL165:
1139:Middlewares/Third_Party/LwIP/src/core/udp.c **** #if LWIP_IPV4 && LWIP_IPV6
1140:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (pcb != NULL) {
1141:Middlewares/Third_Party/LwIP/src/core/udp.c ****     IP_SET_TYPE_VAL(pcb->local_ip,  type);
1142:Middlewares/Third_Party/LwIP/src/core/udp.c ****     IP_SET_TYPE_VAL(pcb->remote_ip, type);
1143:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
1144:Middlewares/Third_Party/LwIP/src/core/udp.c **** #else
1145:Middlewares/Third_Party/LwIP/src/core/udp.c ****   LWIP_UNUSED_ARG(type);
 1626              		.loc 1 1145 3 is_stmt 1 view .LVU493
1146:Middlewares/Third_Party/LwIP/src/core/udp.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1147:Middlewares/Third_Party/LwIP/src/core/udp.c ****   return pcb;
 1627              		.loc 1 1147 3 view .LVU494
1148:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 1628              		.loc 1 1148 1 is_stmt 0 view .LVU495
 1629 0006 08BD     		pop	{r3, pc}
 1630              		.cfi_endproc
 1631              	.LFE174:
 1633              		.section	.text.udp_netif_ip_addr_changed,"ax",%progbits
 1634              		.align	1
 1635              		.global	udp_netif_ip_addr_changed
 1636              		.syntax unified
 1637              		.thumb
 1638              		.thumb_func
 1639              		.fpu fpv5-sp-d16
 1641              	udp_netif_ip_addr_changed:
 1642              	.LVL166:
 1643              	.LFB175:
1149:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
1150:Middlewares/Third_Party/LwIP/src/core/udp.c **** /** This function is called from netif.c when address is changed
1151:Middlewares/Third_Party/LwIP/src/core/udp.c ****  *
1152:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param old_addr IP address of the netif before change
1153:Middlewares/Third_Party/LwIP/src/core/udp.c ****  * @param new_addr IP address of the netif after change
1154:Middlewares/Third_Party/LwIP/src/core/udp.c ****  */
1155:Middlewares/Third_Party/LwIP/src/core/udp.c **** void udp_netif_ip_addr_changed(const ip_addr_t* old_addr, const ip_addr_t* new_addr)
1156:Middlewares/Third_Party/LwIP/src/core/udp.c **** {
 1644              		.loc 1 1156 1 is_stmt 1 view -0
 1645              		.cfi_startproc
 1646              		@ args = 0, pretend = 0, frame = 0
 1647              		@ frame_needed = 0, uses_anonymous_args = 0
 1648              		@ link register save eliminated.
1157:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_pcb* upcb;
 1649              		.loc 1 1157 3 view .LVU497
1158:Middlewares/Third_Party/LwIP/src/core/udp.c **** 
1159:Middlewares/Third_Party/LwIP/src/core/udp.c ****   if (!ip_addr_isany(old_addr) && !ip_addr_isany(new_addr)) {
 1650              		.loc 1 1159 3 view .LVU498
 1651              		.loc 1 1159 6 is_stmt 0 view .LVU499
 1652 0000 B8B1     		cbz	r0, .L148
 1653 0002 0246     		mov	r2, r0
 1654              		.loc 1 1159 8 discriminator 1 view .LVU500
ARM GAS  /tmp/ccH8Bvzf.s 			page 55


 1655 0004 0368     		ldr	r3, [r0]
 1656              		.loc 1 1159 7 discriminator 1 view .LVU501
 1657 0006 A3B1     		cbz	r3, .L148
 1658              		.loc 1 1159 32 discriminator 2 view .LVU502
 1659 0008 99B1     		cbz	r1, .L148
 1660              		.loc 1 1159 36 discriminator 3 view .LVU503
 1661 000a 0B68     		ldr	r3, [r1]
 1662              		.loc 1 1159 35 discriminator 3 view .LVU504
 1663 000c 8BB1     		cbz	r3, .L148
1160:Middlewares/Third_Party/LwIP/src/core/udp.c ****     for (upcb = udp_pcbs; upcb != NULL; upcb = upcb->next) {
 1664              		.loc 1 1160 5 is_stmt 1 view .LVU505
 1665              		.loc 1 1160 15 is_stmt 0 view .LVU506
 1666 000e 094B     		ldr	r3, .L154
 1667 0010 1B68     		ldr	r3, [r3]
 1668              	.LVL167:
 1669              		.loc 1 1160 5 view .LVU507
 1670 0012 6BB1     		cbz	r3, .L152
1156:Middlewares/Third_Party/LwIP/src/core/udp.c ****   struct udp_pcb* upcb;
 1671              		.loc 1 1156 1 view .LVU508
 1672 0014 10B4     		push	{r4}
 1673              	.LCFI23:
 1674              		.cfi_def_cfa_offset 4
 1675              		.cfi_offset 4, -4
 1676 0016 01E0     		b	.L146
 1677              	.LVL168:
 1678              	.L145:
 1679              		.loc 1 1160 46 discriminator 2 view .LVU509
 1680 0018 DB68     		ldr	r3, [r3, #12]
 1681              	.LVL169:
 1682              		.loc 1 1160 5 discriminator 2 view .LVU510
 1683 001a 33B1     		cbz	r3, .L153
 1684              	.L146:
1161:Middlewares/Third_Party/LwIP/src/core/udp.c ****       /* PCB bound to current local interface address? */
1162:Middlewares/Third_Party/LwIP/src/core/udp.c ****       if (ip_addr_cmp(&upcb->local_ip, old_addr)) {
 1685              		.loc 1 1162 7 is_stmt 1 view .LVU511
 1686              		.loc 1 1162 11 is_stmt 0 view .LVU512
 1687 001c 1C68     		ldr	r4, [r3]
 1688 001e 1068     		ldr	r0, [r2]
 1689              		.loc 1 1162 10 view .LVU513
 1690 0020 8442     		cmp	r4, r0
 1691 0022 F9D1     		bne	.L145
1163:Middlewares/Third_Party/LwIP/src/core/udp.c ****         /* The PCB is bound to the old ipaddr and
1164:Middlewares/Third_Party/LwIP/src/core/udp.c ****          * is set to bound to the new one instead */
1165:Middlewares/Third_Party/LwIP/src/core/udp.c ****         ip_addr_copy(upcb->local_ip, *new_addr);
 1692              		.loc 1 1165 9 is_stmt 1 view .LVU514
 1693 0024 0868     		ldr	r0, [r1]
 1694 0026 1860     		str	r0, [r3]
 1695 0028 F6E7     		b	.L145
 1696              	.L153:
1166:Middlewares/Third_Party/LwIP/src/core/udp.c ****       }
1167:Middlewares/Third_Party/LwIP/src/core/udp.c ****     }
1168:Middlewares/Third_Party/LwIP/src/core/udp.c ****   }
1169:Middlewares/Third_Party/LwIP/src/core/udp.c **** }
 1697              		.loc 1 1169 1 is_stmt 0 view .LVU515
 1698 002a 5DF8044B 		ldr	r4, [sp], #4
 1699              	.LCFI24:
 1700              		.cfi_restore 4
ARM GAS  /tmp/ccH8Bvzf.s 			page 56


 1701              		.cfi_def_cfa_offset 0
 1702 002e 7047     		bx	lr
 1703              	.LVL170:
 1704              	.L152:
 1705              		.loc 1 1169 1 view .LVU516
 1706 0030 7047     		bx	lr
 1707              	.LVL171:
 1708              	.L148:
 1709              		.loc 1 1169 1 view .LVU517
 1710 0032 7047     		bx	lr
 1711              	.L155:
 1712              		.align	2
 1713              	.L154:
 1714 0034 00000000 		.word	udp_pcbs
 1715              		.cfi_endproc
 1716              	.LFE175:
 1718              		.comm	udp_pcbs,4,4
 1719              		.section	.data.udp_port,"aw"
 1720              		.align	1
 1721              		.set	.LANCHOR0,. + 0
 1724              	udp_port:
 1725 0000 00C0     		.short	-16384
 1726              		.section	.rodata.udp_input.str1.4,"aMS",%progbits,1
 1727              		.align	2
 1728              	.LC0:
 1729 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/udp.c\000"
 1729      6C657761 
 1729      7265732F 
 1729      54686972 
 1729      645F5061 
 1730              	.LC1:
 1731 002c 70627566 		.ascii	"pbuf_header failed\012\000"
 1731      5F686561 
 1731      64657220 
 1731      6661696C 
 1731      65640A00 
 1732              	.LC2:
 1733 0040 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 1733      7274696F 
 1733      6E202225 
 1733      73222066 
 1733      61696C65 
 1734              		.section	.rodata.udp_sendto_if_src.str1.4,"aMS",%progbits,1
 1735              		.align	2
 1736              	.LC3:
 1737 0000 63686563 		.ascii	"check that first pbuf can hold struct udp_hdr\000"
 1737      6B207468 
 1737      61742066 
 1737      69727374 
 1737      20706275 
 1738              		.text
 1739              	.Letext0:
 1740              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 1741              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 1742              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 1743              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 1744              		.file 6 "/usr/arm-none-eabi/include/sys/lock.h"
ARM GAS  /tmp/ccH8Bvzf.s 			page 57


 1745              		.file 7 "/usr/arm-none-eabi/include/sys/_types.h"
 1746              		.file 8 "/usr/lib/gcc/arm-none-eabi/8.3.0/include/stddef.h"
 1747              		.file 9 "/usr/arm-none-eabi/include/sys/reent.h"
 1748              		.file 10 "/usr/arm-none-eabi/include/stdlib.h"
 1749              		.file 11 "/usr/arm-none-eabi/include/time.h"
 1750              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 1751              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 1752              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 1753              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 1754              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 1755              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 1756              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 1757              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 1758              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 1759              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 1760              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/udp.h"
 1761              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 1762              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/icmp.h"
 1763              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 1764              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4.h"
 1765              		.file 27 "/usr/arm-none-eabi/include/stdio.h"
 1766              		.file 28 "<built-in>"
ARM GAS  /tmp/ccH8Bvzf.s 			page 58


DEFINED SYMBOLS
                            *ABS*:0000000000000000 udp.c
     /tmp/ccH8Bvzf.s:18     .text.udp_new_port:0000000000000000 $t
     /tmp/ccH8Bvzf.s:25     .text.udp_new_port:0000000000000000 udp_new_port
     /tmp/ccH8Bvzf.s:112    .text.udp_new_port:0000000000000044 $d
                            *COM*:0000000000000004 udp_pcbs
     /tmp/ccH8Bvzf.s:118    .text.udp_input_local_match:0000000000000000 $t
     /tmp/ccH8Bvzf.s:124    .text.udp_input_local_match:0000000000000000 udp_input_local_match
     /tmp/ccH8Bvzf.s:242    .text.udp_input_local_match:0000000000000050 $d
     /tmp/ccH8Bvzf.s:247    .text.udp_init:0000000000000000 $t
     /tmp/ccH8Bvzf.s:254    .text.udp_init:0000000000000000 udp_init
     /tmp/ccH8Bvzf.s:267    .text.udp_input:0000000000000000 $t
     /tmp/ccH8Bvzf.s:274    .text.udp_input:0000000000000000 udp_input
     /tmp/ccH8Bvzf.s:611    .text.udp_input:0000000000000120 $d
     /tmp/ccH8Bvzf.s:621    .text.udp_bind:0000000000000000 $t
     /tmp/ccH8Bvzf.s:628    .text.udp_bind:0000000000000000 udp_bind
     /tmp/ccH8Bvzf.s:801    .text.udp_bind:0000000000000084 $d
     /tmp/ccH8Bvzf.s:807    .text.udp_sendto_if_src:0000000000000000 $t
     /tmp/ccH8Bvzf.s:814    .text.udp_sendto_if_src:0000000000000000 udp_sendto_if_src
     /tmp/ccH8Bvzf.s:1020   .text.udp_sendto_if_src:00000000000000c4 $d
     /tmp/ccH8Bvzf.s:1027   .text.udp_sendto_if:0000000000000000 $t
     /tmp/ccH8Bvzf.s:1034   .text.udp_sendto_if:0000000000000000 udp_sendto_if
     /tmp/ccH8Bvzf.s:1129   .text.udp_sendto:0000000000000000 $t
     /tmp/ccH8Bvzf.s:1136   .text.udp_sendto:0000000000000000 udp_sendto
     /tmp/ccH8Bvzf.s:1223   .text.udp_send:0000000000000000 $t
     /tmp/ccH8Bvzf.s:1230   .text.udp_send:0000000000000000 udp_send
     /tmp/ccH8Bvzf.s:1269   .text.udp_connect:0000000000000000 $t
     /tmp/ccH8Bvzf.s:1276   .text.udp_connect:0000000000000000 udp_connect
     /tmp/ccH8Bvzf.s:1408   .text.udp_connect:0000000000000064 $d
     /tmp/ccH8Bvzf.s:1413   .text.udp_disconnect:0000000000000000 $t
     /tmp/ccH8Bvzf.s:1420   .text.udp_disconnect:0000000000000000 udp_disconnect
     /tmp/ccH8Bvzf.s:1445   .text.udp_recv:0000000000000000 $t
     /tmp/ccH8Bvzf.s:1452   .text.udp_recv:0000000000000000 udp_recv
     /tmp/ccH8Bvzf.s:1472   .text.udp_remove:0000000000000000 $t
     /tmp/ccH8Bvzf.s:1479   .text.udp_remove:0000000000000000 udp_remove
     /tmp/ccH8Bvzf.s:1549   .text.udp_remove:0000000000000034 $d
     /tmp/ccH8Bvzf.s:1554   .text.udp_new:0000000000000000 $t
     /tmp/ccH8Bvzf.s:1561   .text.udp_new:0000000000000000 udp_new
     /tmp/ccH8Bvzf.s:1601   .text.udp_new_ip_type:0000000000000000 $t
     /tmp/ccH8Bvzf.s:1608   .text.udp_new_ip_type:0000000000000000 udp_new_ip_type
     /tmp/ccH8Bvzf.s:1634   .text.udp_netif_ip_addr_changed:0000000000000000 $t
     /tmp/ccH8Bvzf.s:1641   .text.udp_netif_ip_addr_changed:0000000000000000 udp_netif_ip_addr_changed
     /tmp/ccH8Bvzf.s:1714   .text.udp_netif_ip_addr_changed:0000000000000034 $d
     /tmp/ccH8Bvzf.s:1720   .data.udp_port:0000000000000000 $d
     /tmp/ccH8Bvzf.s:1724   .data.udp_port:0000000000000000 udp_port
     /tmp/ccH8Bvzf.s:1727   .rodata.udp_input.str1.4:0000000000000000 $d
     /tmp/ccH8Bvzf.s:1735   .rodata.udp_sendto_if_src.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
ip_data
ip4_addr_isbroadcast_u32
lwip_htons
pbuf_free
pbuf_header
printf
pbuf_header_force
icmp_dest_unreach
ARM GAS  /tmp/ccH8Bvzf.s 			page 59


ip_addr_any
ip4_output_if_src
pbuf_alloc
pbuf_chain
ip4_route
memp_free
memp_malloc
memset
